{"version":3,"sources":["listado/Listado.js","firebase.js","crearProducto/CrearProducto.js","ml.png","lupa.png","header/Header.js","google-logo.png","registerUser/RegistrarUsuario.js","login/Login.js","productosUsuario/UserListado.js","infoProducto/InfoProducto.js","ventasUser/VentasUser.js","InfoCarrito/InfoCarrito.js","App.js","reportWebVitals.js","index.js"],"names":["Listado","props","changePage","event","newPage","target","key","setState","state","page","handleBuy","prod","onProductBuy","error","isLoaded","items","gte","lte","limit","filterProducts","bind","handleChangeGte","handleChangeLte","value","parseInt","this","val","prevProps","notifyRequired","search","category","prevState","snapshot","params","push","length","join","getProducts","filter","console","log","fetch","then","res","json","result","userId","localStorage","getItem","paginationElems","number","Math","ceil","Pagination","Item","active","onClick","message","Container","fluid","style","padding","Accordion","defaultActiveKey","eventKey","Header","Body","InputGroup","className","Text","id","FormControl","placeholder","type","onChange","Button","variant","Row","map","item","Col","Card","width","height","Img","src","photo","Title","nombre","stock","valor","_id","disabled","React","Component","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","storage","getAnalytics","getStorage","CrearProducto","submitCsv","product","descripcion","categoria","csv","getAuth","currentUser","getIdToken","idToken","requestOptions","method","headers","body","JSON","stringify","data","onProductCreated","catch","err","previewImg","fileInput","createRef","csvInput","handleFileCsv","handleFileSelection","handleFieldChange","handleSubmit","file","files","reader","FileReader","onloadend","base64String","replace","readAsDataURL","preview","URL","createObjectURL","pathUrl","Date","getTime","stRef","sRef","db","uploadBytes","current","getDownloadURL","ref","downloadURL","createUser","name","owner","url","alert","preventDefault","submitPhoto","alt","btnMsg","cargaMasiva","accept","OverlayTrigger","placement","overlay","Tooltip","Badge","bg","onSubmit","required","min","title","Spinner","animation","role","openCategory","onCategory","searchProduct","searchTxt","onSearchProduct","goToCreation","onProductCreationEvent","goHome","onHome","handleLogin","onLogin","goToRegister","onRegister","goToUserProducts","onUserProducts","goToUserSales","onUserSales","signOut","clear","openCart","onUserCart","handleSearchChanged","crearProducto","misProductos","misVentas","username","seller","cart","parse","registerOrSignOut","Nav","Link","Navbar","expand","Brand","href","logo","Toggle","Collapse","NavDropdown","menuVariant","Form","RegistrarUsuario","screen","token","user","apellido","email","razonSocial","emailCorporativo","uid","handleGoogleSignIn","provider","GoogleAuthProvider","auth","signInWithPopup","credentialFromResult","displayName","split","code","credentialFromError","checked","status","onUserCreated","statusText","password","camposVendedor","Login","setItem","toString","onUserLogin","errorMessage","UserListado","handleDelete","prodId","componentDidMount","handleEdit","onProductEdit","InfoProducto","addToCart","cartObj","actualCart","cartElem","cantidad","amount","purchaseProduct","sell","products","productId","cantidadProductos","costoTotal","buyer","formaPago","onSellCreated","handleChangeAmount","handlePaymentChanged","max","Select","defaultValue","Footer","VentasUser","sells","wrapperProduct","createdAt","toLocaleString","InfoCarrito","purchaseProducts","reduce","prev","ListGroup","App","handleSearchCategory","handleSearchProduct","text","searchText","handleProductCreation","handleUserLogin","handleCreationScreen","handleProductEdit","handleProductBuy","handleSellCreated","removeItem","handleHomeScreen","handleRegisterScreen","handleUserProductsScreen","handleUserSales","handleUserCart","mainContent","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"ydAuNeA,E,kDAnNX,WAAYC,GAAO,IAAD,8BACd,cAAMA,IAkCVC,WAAa,SAACC,GACZ,IAAIC,EAAUD,EAAME,OAAOC,IAC3B,EAAKC,SAAL,2BAAkB,EAAKC,OAAvB,IAA6BC,KAAML,MArCnB,EAyGlBM,UAAY,SAACC,GACX,EAAKV,MAAMW,aAAaD,IAxGtB,EAAKH,MAAQ,CACTK,MAAO,KACPC,UAAU,EACVC,MAAO,GACPC,IAAI,EAAEC,IAAI,EACVC,MAAM,GAAGT,KAAK,GAElB,EAAKU,eAAiB,EAAKA,eAAeC,KAApB,gBACtB,EAAKC,gBAAkB,EAAKA,gBAAgBD,KAArB,gBACvB,EAAKE,gBAAkB,EAAKA,gBAAgBF,KAArB,gBAXT,E,mDAelB,SAAgBjB,GACd,IAAME,EAASF,EAAME,OACjBkB,EAAOC,SAASnB,EAAOkB,OAE3BE,KAAKlB,SAAL,2BACOkB,KAAKjB,OADZ,IACkBQ,IAAIO,O,6BAIxB,SAAgBpB,GACd,IAAME,EAASF,EAAME,OACjBqB,EAAKF,SAASnB,EAAOkB,OAEzBE,KAAKlB,SAAL,2BACOkB,KAAKjB,OADZ,IAEIS,IAAIS,O,qCAUV,SAAwBC,GACtB,MAAO,CAAEC,eAAgBD,EAAUE,SAAWJ,KAAKxB,MAAM4B,QAAUF,EAAUG,WAAaL,KAAKxB,MAAM6B,Y,gCAGvG,SAAmBH,EAAWI,EAAWC,GACvC,GAAIA,EAASJ,eAAgB,CAC7B,IAAIK,EAAS,GACa,MAAvBR,KAAKxB,MAAM6B,UACZG,EAAOC,KAAK,aAAaT,KAAKxB,MAAM6B,UAEd,MAArBL,KAAKxB,MAAM4B,QACZI,EAAOC,KAAK,UAAUT,KAAKxB,MAAM4B,QAEd,MAAlBJ,KAAKjB,MAAMS,KAAiC,GAAlBQ,KAAKjB,MAAMS,KACtCgB,EAAOC,KAAK,OAAOT,KAAKjB,MAAMS,KAEX,MAAlBQ,KAAKjB,MAAMQ,KAAiC,GAAlBS,KAAKjB,MAAMQ,KACtCiB,EAAOC,KAAK,OAAOT,KAAKjB,MAAMQ,KAE7BiB,EAAOE,OAAS,IACjBF,EAASA,EAAOG,KAAK,KACrBX,KAAKY,YAAYJ,O,+BAMrB,WACE,IAAIA,EAAS,GACa,MAAvBR,KAAKxB,MAAM6B,UACZG,EAAOC,KAAK,aAAaT,KAAKxB,MAAM6B,UAEjB,MAAlBL,KAAKjB,MAAMS,KAAiC,GAAlBQ,KAAKjB,MAAMS,KACtCgB,EAAOC,KAAK,OAAOT,KAAKjB,MAAMS,KAEX,MAAlBQ,KAAKjB,MAAMQ,KAAiC,GAAlBS,KAAKjB,MAAMQ,KACtCiB,EAAOC,KAAK,OAAOT,KAAKjB,MAAMQ,KAER,MAArBS,KAAKxB,MAAM4B,QACZI,EAAOC,KAAK,UAAUT,KAAKxB,MAAM4B,QAEhCI,EAAOE,OAAS,IACjBF,EAASA,EAAOG,KAAK,KACrBX,KAAKY,YAAYJ,IAEnBR,KAAKY,gB,4BAGP,WACE,IAAIJ,EAAS,GAEQ,MAAlBR,KAAKjB,MAAMS,KAAiC,GAAlBQ,KAAKjB,MAAMS,KACtCgB,EAAOC,KAAK,OAAOT,KAAKjB,MAAMS,KAEX,MAAlBQ,KAAKjB,MAAMQ,KAAiC,GAAlBS,KAAKjB,MAAMQ,KACtCiB,EAAOC,KAAK,OAAOT,KAAKjB,MAAMQ,KAE7BiB,EAAOE,OAAS,IACjBV,KAAKlB,SAAL,2BAAkBkB,KAAKjB,OAAvB,IACEM,UAAU,KACZmB,EAASA,EAAOG,KAAK,KACrBX,KAAKY,YAAYJ,M,yBAQrB,SAAYA,GAAQ,IAAD,OACbK,EAAS,GACVL,IACDK,EAAS,IAAIL,GAEfM,QAAQC,IAAIF,GACZG,MAAM,mDAAqDH,GAAQI,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChFF,MACG,SAACG,GACGN,QAAQC,IAAIK,GACZ,EAAKtC,SAAS,CACVO,UAAU,EACVC,MAAO8B,OAGf,SAAChC,GACG,EAAKN,SAAS,CACVO,UAAU,EACVD,e,oBAMhB,WAIJ,IAJa,IAAD,OACJ,EAAmCY,KAAKjB,MAAhCK,EAAR,EAAQA,MAAOC,EAAf,EAAeA,SAAUC,EAAzB,EAAyBA,MACrB+B,EAASC,aAAaC,QAAQ,QACtCC,EAAkB,GACbC,EAAS,EAAGA,GAAUC,KAAKC,KAAK3B,KAAKjB,MAAMO,MAAMoB,OAASV,KAAKjB,MAAMU,OAAQgC,IACpFD,EAAgBf,KACd,cAACmB,EAAA,EAAWC,KAAZ,CAA8BC,OAAQL,IAAWzB,KAAKjB,MAAMC,KAAM+C,QAAS/B,KAAKvB,WAAhF,SACGgD,GADmBA,IAKtB,OAAIrC,EACK,sBAAK,cAAY,UAAjB,oBAAmCA,EAAM4C,WACtC3C,EAIR,eAAC4C,EAAA,EAAD,CAAWC,MAAM,KAAKC,MAAO,CAACC,QAAS,MAAO,cAAY,UAA1D,UACE,cAACC,EAAA,EAAD,CAAWC,iBAAiB,GAA5B,SACR,eAACD,EAAA,EAAUR,KAAX,CAAgBU,SAAS,IAAzB,UACE,cAACF,EAAA,EAAUG,OAAX,gCACA,eAACH,EAAA,EAAUI,KAAX,WACE,eAACC,EAAA,EAAD,CAAYC,UAAU,OAAtB,UACE,cAACD,EAAA,EAAWE,KAAZ,CAAiBC,GAAG,eAApB,6BACA,cAACC,EAAA,EAAD,CACEC,YAAY,IACZ,aAAW,IACX,mBAAiB,eACjBC,KAAK,SACLlD,MAAOE,KAAKjB,MAAMQ,IAClB0D,SAAUjD,KAAKJ,qBAGnB,eAAC8C,EAAA,EAAD,CAAYC,UAAU,OAAtB,UACE,cAACD,EAAA,EAAWE,KAAZ,CAAiBC,GAAG,eAApB,6BACA,cAACC,EAAA,EAAD,CACEC,YAAY,IACZ,aAAW,IACX,mBAAiB,eACjBC,KAAK,SACLlD,MAAOE,KAAKjB,MAAMS,IAClByD,SAAUjD,KAAKH,qBAGnB,cAACqD,EAAA,EAAD,CAAQC,QAAQ,UAAUpB,QAAS/B,KAAKN,eAAxC,6BAII,cAAC0D,EAAA,EAAD,UACC9D,EAAM+D,KAAI,SAAAC,GAAI,OACb,cAACC,EAAA,EAAD,UACA,eAACC,EAAA,EAAD,CAAOrB,MAAO,CAAEsB,MAAO,QAASC,OAAQ,SAAxC,UACA,cAACF,EAAA,EAAKG,IAAN,CAAUR,QAAQ,MAAMS,IAAKN,EAAKO,QAClC,cAACL,EAAA,EAAKf,KAAN,UACE,cAACe,EAAA,EAAKM,MAAN,UAAaR,EAAKS,WAEpB,eAACP,EAAA,EAAKZ,KAAN,mCAAiCU,EAAKU,SACtC,eAACR,EAAA,EAAKZ,KAAN,gBAAcU,EAAKW,SACnB,cAACf,EAAA,EAAD,CAAQC,QAAQ,UAAUpB,QAAS,WAAO,EAAK9C,UAAUqE,EAAKY,MAAOC,SAAkB,MAAR9C,EAA/E,yBARUiC,EAAKY,UAgBjB,qBAAK/B,MAAO,CAAC,UAAY,UAAzB,SACA,cAACP,EAAA,EAAD,CAAYO,MAAO,CAAC,YAAc,OAAlC,SACGX,SAtDA,qBAAK,cAAY,UAAjB,6B,GApJS4C,IAAMC,W,gDCgBtBC,EAAMC,YAXW,CACnBC,OAAQ,0CACRC,WAAY,yCACZC,UAAW,yBACXC,cAAe,qCACfC,kBAAmB,gBACnBC,MAAO,6CACPC,cAAe,iBAQJC,GAHGC,YAAaV,GACfW,YAAWX,I,oCCgTZY,E,kDA3TX,WAAY1G,GAAO,IAAD,8BACd,cAAMA,IA2CR2G,UAAY,WACV,EAAKrG,SAAS,CAAEsG,QAAQ,CACpBrB,OAAQ,GACRsB,YAAa,GACbpB,MAAO,EACPD,MAAO,EACPsB,UAAW,QAEblG,MAAO,KAAKC,UAAU,IACxByB,QAAQC,IAAI,EAAKhC,MAAMwG,KAClB,EAAKxG,MAAMwG,KACZC,cAAUC,YAAYC,YAAW,GAAMzE,MAAK,SAAC0E,GACzC,IAAMC,EAAiB,CACnBC,OAAQ,OACRC,QAAS,CAAE,eAAgB,mBAC3B,cAAiB,UAAYH,GAC7BI,KAAMC,KAAKC,UAAU,CAACV,IAAK,EAAKxG,MAAMwG,OAI1CvE,MADU,uDACC4E,GACN3E,MAAK,SAAAiF,GACFpF,QAAQC,IAAImF,GACZ,EAAKpH,SAAS,CAAEsG,QAAQ,CACpBrB,OAAQ,GACRsB,YAAa,GACbpB,MAAO,EACPD,MAAO,EACPsB,UAAW,QAEblG,MAAO,KAAKC,UAAU,IACxB,EAAKb,MAAM2H,sBAGdC,OAAM,SAAAC,GAAQvF,QAAQC,IAAIsF,GAAK,EAAKvH,SAAS,CAAEsG,QAAQ,CACpDrB,OAAQ,GACRsB,YAAa,GACbpB,MAAO,EACPD,MAAO,EACPsB,UAAW,QACblG,MAAOiH,EAAIhH,UAAU,WAlFnC,EAAKN,MAAQ,CACTuH,WAAY,KACZf,IAAK,KACLnG,MAAO,KACPC,UAAU,EACV+F,QAAS,CACLrB,OAAQ,GACRsB,YAAa,GACbpB,MAAO,EACPD,MAAO,EACPsB,UAAW,SAGnB,EAAKiB,UAAYnC,IAAMoC,YACvB,EAAKC,SAAWrC,IAAMoC,YACtB,EAAKE,cAAgB,EAAKA,cAAc/G,KAAnB,gBACvB,EAAKgH,oBAAsB,EAAKA,oBAAoBhH,KAAzB,gBACtB,EAAKnB,MAAM4G,UACV,EAAKrG,MAAL,2BAAgB,EAAKA,OAArB,IAA4BqG,QAAS,EAAK5G,MAAM4G,WAEpD,EAAKwB,kBAAoB,EAAKA,kBAAkBjH,KAAvB,gBACzB,EAAKkH,aAAe,EAAKA,aAAalH,KAAlB,gBAvBN,E,iDA0BlB,SAAcjB,GAAO,IAAD,OACZoI,EAAOpI,EAAME,OAAOmI,MAAM,GACxBC,EAAS,IAAIC,WACvBD,EAAOE,UAAY,WACjB,IAAMC,EAAeH,EAAO5F,OAAOgG,QAAQ,QAAS,IACnDA,QAAQ,OAAQ,IACjBtG,QAAQC,IAAIoG,GACZ,EAAKrI,SAAS,CAACyG,IAAK4B,KAEtBH,EAAOK,cAAcP,K,iCAInB,SAAoBpI,GAClB,IAAI4I,EAAUC,IAAIC,gBAAgB9I,EAAME,OAAOmI,MAAM,IACrD/G,KAAKlB,SAAS,CAACwH,WAAYgB,M,yBAgD/B,WAAe,IAAD,OAENG,EADSnG,aAAaC,QAAQ,SACX,IAAImG,MAAOC,UAAW,OACvCC,EAAQC,YAAKC,EAAGL,GACxB,OAAOM,YAAYH,EAAO5H,KAAKuG,UAAUyB,QAAQjB,MAAM,IAAI9F,MAAK,SAACV,GAC7D0H,YAAe1H,EAAS2H,KAAKjH,MAAK,SAACkH,GAC/BrH,QAAQC,IAAIoH,GACZ,EAAKrJ,SAAL,2BAAkB,EAAKC,OAAvB,IAA6BqG,QAAQ,2BAAK,EAAKrG,MAAMqG,SAAjB,IAAyBvB,MAAOsE,OACpE,EAAKC,qB,+BAKf,SAAkB1J,GACd,IAAME,EAASF,EAAME,OACfyJ,EAAOzJ,EAAOyJ,KAChBpI,EAAe,UAAToI,GAA6B,UAATA,EAAmBtI,SAASnB,EAAOkB,OAASlB,EAAOkB,MAEjFE,KAAKlB,SAAL,2BACOkB,KAAKjB,OADZ,IAEIqG,QAAQ,2BACDpF,KAAKjB,MAAMqG,SADX,kBACoBiD,EAAOpI,S,wBAMxC,WAAc,IAAD,OACPoB,EAASC,aAAaC,QAAQ,QAClC,GAAIvB,KAAKjB,MAAMqG,QAAQvB,MAAvB,CAKA,IAAIuB,EAAO,2BAAOpF,KAAKjB,MAAMqG,SAAlB,IAA0BkD,MAAOjH,IAExCmE,cAAUC,YAKdD,cAAUC,YAAYC,YAAW,GAAMzE,MAAK,SAAC0E,GACzC,IAAMC,EAAiB,EAAK7G,MAAMqG,QAAQlB,IAAM,CAC5C2B,OAAQ,MACRC,QAAS,CAAE,eAAgB,mBACf,cAAiB,UAAYH,GACzCI,KAAMC,KAAKC,UAAUb,IACrB,CACAS,OAAQ,OACRC,QAAS,CAAE,eAAgB,mBAC3B,cAAiB,UAAYH,GAC7BI,KAAMC,KAAKC,UAAUb,IAGrBmD,EAAM,mDACP,EAAKxJ,MAAMqG,QAAQlB,MAClBqE,EAAMA,EAAM,IAAM,EAAKxJ,MAAMqG,QAAQlB,KAEzClD,MAAMuH,EAAK3C,GACN3E,MAAK,SAAAiF,GACFpF,QAAQC,IAAImF,GACZ,EAAKpH,SAAS,CAAEsG,QAAQ,CACpBrB,OAAQ,GACRsB,YAAa,GACbpB,MAAO,EACPD,MAAO,EACPsB,UAAW,QAEblG,MAAO,KAAKC,UAAU,IACxB,EAAKb,MAAM2H,sBAGdC,OAAM,SAAAC,GAAQ,EAAKvH,SAAS,CAAEsG,QAAQ,CACnCrB,OAAQ,GACRsB,YAAa,GACbpB,MAAO,EACPD,MAAO,EACPsB,UAAW,QACblG,MAAOiH,EAAIhH,UAAU,UAzC3BmJ,MAAM,+CAPNA,MAAM,gE,0BAqDZ,SAAa9J,GACXA,EAAM+J,iBACsB,MAAzBjD,cAAUC,aAIbzF,KAAKlB,SAAL,2BAAmBkB,KAAKjB,OAAxB,IAA8BM,UAAU,KACpCW,KAAKjB,MAAMqG,QAAQvB,MAInB7D,KAAKoI,aAHTpI,KAAK0I,eALDF,MAAM,oD,oBAYd,WACI,MAA4BxI,KAAKjB,MAAzBK,EAAR,EAAQA,MAAOC,EAAf,EAAeA,SACXiI,EAAQtH,KAAKjB,MAAMqG,QAAQvB,MAAQ,qBAAKD,IAAK5D,KAAKjB,MAAMqG,QAAQvB,MAAOlB,UAAU,aAAagG,IAAI,eAA0C,MAAzB3I,KAAKjB,MAAMuH,WAAqB,qBAAK1C,IAAK5D,KAAKjB,MAAMuH,WAAY3D,UAAU,aAAagG,IAAI,eAAiB,yBAChOC,EAAS5I,KAAKjB,MAAMqG,QAAQlB,IAAM,aAAe,iBACjD2E,EAAc7I,KAAKjB,MAAMqG,QAAQlB,IAAM,KAE3C,eAAC7B,EAAA,EAAUR,KAAX,CAAgBU,SAAS,IAAzB,UACJ,cAACF,EAAA,EAAUG,OAAX,wCACA,cAACH,EAAA,EAAUI,KAAX,UACA,gCACQ,yDAEQ,uBAAOI,GAAG,WAAWG,KAAK,OAAO8F,OAAO,OAAOZ,IAAKlI,KAAKyG,SAAUxD,SAAUjD,KAAK0G,mBAEtF,cAACqC,EAAA,EAAD,CACVC,UAAU,MACVC,QACE,cAACC,EAAA,EAAD,CAASrG,GAAE,cAAX,mGAHQ,SAOX,cAACsG,EAAA,EAAD,CAAOC,GAAG,OAAV,oBACD,mDAAqB,cAAClG,EAAA,EAAD,CAAQC,QAAQ,UAAUpB,QAAS/B,KAAKmF,UAAWhB,UAAWnE,KAAKjB,MAAMwG,IAAzE,+BAMjB,OAAInG,EACG,0CAAaA,EAAM4C,WACd3C,EAOpB,eAACgD,EAAA,EAAD,WACGwG,EACD,eAACxG,EAAA,EAAUR,KAAX,CAAgBU,SAAS,IAAzB,UACE,cAACF,EAAA,EAAUG,OAAX,gCACA,cAACH,EAAA,EAAUI,KAAX,UACA,sBAAKE,UAAU,eAAf,UACY,qBAAKA,UAAU,aAAf,SACC2E,IAED,sEAEI,uBAAOtE,KAAK,OAAO8F,OAAO,aAAaZ,IAAKlI,KAAKuG,UAAWtD,SAAUjD,KAAK2G,yBAG/E,uBAAM0C,SAAUrJ,KAAK6G,aAArB,UACI,qBAAKlE,UAAU,aAAf,SACI,4CAEI,uBAAOK,KAAK,OAAOqF,KAAK,SAASiB,SAAS,OAAOxJ,MAAOE,KAAKjB,MAAMqG,QAAQrB,OAAQd,SAAUjD,KAAK4G,yBAG1G,qBAAKjE,UAAU,aAAf,SACI,oDAEI,0BAAU0F,KAAK,cAAcvI,MAAOE,KAAKjB,MAAMqG,QAAQC,YAAapC,SAAUjD,KAAK4G,yBAG3F,qBAAKjE,UAAU,aAAf,SACI,6CAEK,uBAAO0F,KAAK,QAAQrF,KAAK,SAASsG,SAAS,OAAOxJ,MAAOE,KAAKjB,MAAMqG,QAAQnB,MAAOsF,IAAI,IAAItG,SAAUjD,KAAK4G,yBAGnH,qBAAKjE,UAAU,aAAf,SACI,2CAEI,uBAAO0F,KAAK,QAAQrF,KAAK,SAASsG,SAAS,OAAOxJ,MAAOE,KAAKjB,MAAMqG,QAAQpB,MAAOuF,IAAI,IAAItG,SAAUjD,KAAK4G,yBAGlH,qBAAKjE,UAAU,aAAf,SACI,+CAEI,yBAAQ0F,KAAK,YAAYvI,MAAOE,KAAKjB,MAAMqG,QAAQE,UAAWrC,SAAUjD,KAAK4G,kBAA7E,UACI,wBAAQ9G,MAAM,OAAd,kBAGA,wBAAQA,MAAM,YAAd,uBAGA,wBAAQA,MAAM,OAAd,kBAGA,wBAAQA,MAAM,cAAd,yBAGA,wBAAQA,MAAM,WAAd,sBAGA,wBAAQA,MAAM,YAAd,uBAGA,wBAAQA,MAAM,WAAd,sBAGA,wBAAQA,MAAM,aAAd,2BAGA,wBAAQA,MAAM,YAAd,0BAGA,wBAAQA,MAAM,aAAd,gCAMZ,qBAAK6C,UAAU,aAAf,SACI,wBAAQK,KAAK,SAASwG,MAAOZ,EAA7B,SAAsCA,oBAnF/C,cAACa,EAAA,EAAD,CAASC,UAAU,SAASC,KAAK,SAAjC,SACP,sBAAMhH,UAAU,kBAAhB,8B,GA5NoByB,IAAMC,WCTnB,G,OAAA,IAA0B,gC,GCA1B,I,mCC4IAa,E,kDAnIb,WAAY1G,GAAO,IAAD,8BAChB,cAAMA,IAURoL,aAAe,SAAClL,GACdoC,QAAQC,IAAIrC,EAAME,OAAOyJ,MACzB,EAAK7J,MAAMqL,WAAWnL,EAAME,OAAOyJ,OAbnB,EAgBlByB,cAAgB,WACdhJ,QAAQC,IAAI,EAAKhC,MAAMgL,WACvB,EAAKvL,MAAMwL,gBAAgB,EAAKjL,MAAMgL,YAlBtB,EAqBhBE,aAAe,WACb,EAAKzL,MAAM0L,0BAtBG,EAyBhBC,OAAS,WACP,EAAK3L,MAAM4L,UA1BG,EA6BhBC,YAAc,WACZ,EAAK7L,MAAM8L,WA9BG,EAiChBC,aAAe,WACb,EAAK/L,MAAMgM,cAlCG,EAqChBC,iBAAmB,WACjB,EAAKjM,MAAMkM,kBAtCG,EAyChBC,cAAgB,WACd,EAAKnM,MAAMoM,eA1CG,EA6ChBC,QAAU,WACRvJ,aAAawJ,QACb,EAAKX,UA/CS,EAkDhBY,SAAW,WACT,EAAKvM,MAAMwM,cAjDb,EAAKjM,MAAQ,CAACgL,UAAW,IACzB,EAAKkB,oBAAsB,EAAKA,oBAAoBtL,KAAzB,gBAHX,E,uDAOlB,SAAoBjB,GAClBsB,KAAKlB,SAAS,CAACiL,UAAWrL,EAAME,OAAOkB,U,oBA8CvC,WACE,IAIIoL,EACAC,EACAC,EANA/J,EAASC,aAAaC,QAAQ,QAC9B8J,EAAW/J,aAAaC,QAAQ,YAChC+J,EAA4C,SAAnChK,aAAaC,QAAQ,UAC9BgK,EAAOjK,aAAaC,QAAQ,QAAUyE,KAAKwF,MAAMlK,aAAaC,QAAQ,SAASb,OAAS,EAIxF+K,EAAoB,eAACC,EAAA,EAAD,WACtB,cAACA,EAAA,EAAIC,KAAL,CAAU5J,QAAS/B,KAAKqK,YAAxB,iCACA,cAACqB,EAAA,EAAIC,KAAL,CAAU5J,QAAS/B,KAAKuK,aAAxB,4BAaA,OAXY,OAAXlJ,IACDoK,EAAoB,eAACC,EAAA,EAAD,WAClB,eAACA,EAAA,EAAIC,KAAL,CAAU5J,QAAS/B,KAAK+K,SAAxB,sBAA4CQ,EAA5C,OACA,eAACG,EAAA,EAAIC,KAAL,CAAU5J,QAAS/B,KAAK6K,QAAxB,UAAkCQ,EAAlC,gBAECC,IACHJ,EAAgB,cAACQ,EAAA,EAAIC,KAAL,CAAU5J,QAAS/B,KAAKiK,aAAxB,sBAChBkB,EAAe,cAACO,EAAA,EAAIC,KAAL,CAAU5J,QAAS/B,KAAKyK,iBAAxB,2BACfW,EAAY,cAACM,EAAA,EAAIC,KAAL,CAAU5J,QAAS/B,KAAK2K,cAAxB,0BAIV,cAACiB,EAAA,EAAD,CAAQzI,QAAQ,OAAOiG,GAAG,OAAOyC,OAAO,KAAxC,SACR,eAAC5J,EAAA,EAAD,CAAWC,OAAK,EAAhB,UACI,eAAC0J,EAAA,EAAOE,MAAR,CAAcC,KAAK,GAAnB,UACE,qBACEpD,IAAI,SACJ/E,IAAKoI,EACLvI,MAAM,KACNC,OAAO,KACPf,UAAU,6BACT,IAPL,mBAUF,cAACiJ,EAAA,EAAOK,OAAR,CAAe,gBAAc,wBAC7B,eAACL,EAAA,EAAOM,SAAR,CAAiBrJ,GAAG,sBAApB,UACE,eAAC6I,EAAA,EAAD,WACGR,EACAC,EACAC,EACD,eAACe,EAAA,EAAD,CACEtJ,GAAG,4BACH2G,MAAM,gBACN4C,YAAY,OAHd,UAKE,cAACD,EAAA,EAAYtK,KAAb,CAAkBwG,KAAK,OAAOtG,QAAS/B,KAAK4J,aAA5C,kBACA,cAACuC,EAAA,EAAYtK,KAAb,CAAkBwG,KAAK,YAAYtG,QAAS/B,KAAK4J,aAAjD,uBACA,cAACuC,EAAA,EAAYtK,KAAb,CAAkBwG,KAAK,OAAOtG,QAAS/B,KAAK4J,aAA5C,kBACA,cAACuC,EAAA,EAAYtK,KAAb,CAAkBwG,KAAK,cAActG,QAAS/B,KAAK4J,aAAnD,yBACA,cAACuC,EAAA,EAAYtK,KAAb,CAAkBwG,KAAK,WAAWtG,QAAS/B,KAAK4J,aAAhD,sBACA,cAACuC,EAAA,EAAYtK,KAAb,CAAkBwG,KAAK,YAAYtG,QAAS/B,KAAK4J,aAAjD,uBACA,cAACuC,EAAA,EAAYtK,KAAb,CAAkBwG,KAAK,WAAWtG,QAAS/B,KAAK4J,aAAhD,sBACA,cAACuC,EAAA,EAAYtK,KAAb,CAAkBwG,KAAK,aAAatG,QAAS/B,KAAK4J,aAAlD,2BACA,cAACuC,EAAA,EAAYtK,KAAb,CAAkBwG,KAAK,YAAYtG,QAAS/B,KAAK4J,aAAjD,0BACA,cAACuC,EAAA,EAAYtK,KAAb,CAAkBwG,KAAK,aAAatG,QAAS/B,KAAK4J,aAAlD,8BAIJ,eAACyC,EAAA,EAAD,CAAM1J,UAAU,SAAhB,UACE,cAACG,EAAA,EAAD,CACEE,KAAK,SACLD,YAAY,SACZJ,UAAU,OACV,aAAW,SACXM,SAAUjD,KAAKiL,sBAEjB,cAAC/H,EAAA,EAAD,CAAQC,QAAQ,kBAAkBpB,QAAS/B,KAAK8J,cAAhD,uBAED2B,c,GA9HqBrH,IAAMC,WCPnB,G,cAAA,IAA0B,yCCmN1BiI,E,kDA1MX,WAAY9N,GAAO,IAAD,8BACd,cAAMA,IACDO,MAAQ,CACTK,MAAO,KACPC,UAAU,EACVkN,OAAQ,OACRC,MAAO,KACPC,KAAM,CACF1I,OAAO,GACP2I,SAAS,GACTrB,SAAS,GACTC,QAAO,EACPqB,MAAM,GACNC,YAAY,GACZC,iBAAiB,GACjBC,IAAK,KAIb,EAAKlG,kBAAoB,EAAKA,kBAAkBjH,KAAvB,gBACzB,EAAKkH,aAAe,EAAKA,aAAalH,KAAlB,gBACpB,EAAKoN,mBAAqB,EAAKA,mBAAmBpN,KAAxB,gBArBZ,E,sDAyBlB,SAAmBjB,GAAO,IAAD,OACfsO,EAAW,IAAIC,IACfC,EAAO1H,cACb2H,YAAgBD,EAAMF,GACrB/L,MAAK,SAACG,GAEgB6L,IAAmBG,qBAAqBhM,GAA3D,IAEMqL,EAAOrL,EAAOqL,KACpBA,EAAK/G,YAAW,GAAMzE,MAAK,SAAC0E,GACxB,EAAK7G,SAAL,2BAAkB,EAAKC,OAAvB,IAA8ByN,MAAQ7G,EAAQ4G,OAAQ,OAAQE,KAAK,2BAAK,EAAK1N,MAAM0N,MAAjB,IAAsBK,IAAKL,EAAKK,IAAK/I,OAAQ0I,EAAKY,YAAYC,MAAM,KAAK,GAAGX,MAAOF,EAAKE,iBAI/JvG,OAAM,SAAChH,GAEYA,EAAMmO,KACHnO,EAAM4C,QAEb5C,EAAMuN,MAEDM,IAAmBO,oBAAoBpO,Q,+BAKlE,SAAkBV,GACd,IAAME,EAASF,EAAME,OACjBkB,EAAwB,aAAhBlB,EAAOoE,KAAsBpE,EAAO6O,QAAU7O,EAAOkB,MAC3DuI,EAAOzJ,EAAOyJ,KAGpBrI,KAAKlB,SAAL,2BACOkB,KAAKjB,OADZ,IAEI0N,KAAK,2BACEzM,KAAKjB,MAAM0N,MADd,kBACoBpE,EAAOvI,S,0BAMrC,SAAapB,GAAQ,IAAD,OAClBA,EAAM+J,iBACNzI,KAAKlB,SAAL,2BAAmBkB,KAAKjB,OAAxB,IAA8BM,UAAU,KACxC,IAAMuG,EAAiB,CACnBC,OAAQ,OACRC,QAAS,CAAE,eAAgB,mBAAoB,8BAA8B,wBACjE,cAAiB,UAAY9F,KAAKjB,MAAMyN,OAEpDzG,KAAMC,KAAKC,UAAUjG,KAAKjB,MAAM0N,OAEpCzL,MAAM,gDAAiD4E,GAClD3E,MAAK,SAAAiF,GACFpF,QAAQC,IAAImF,EAAKwH,QACjB,EAAK5O,SAAS,CAAE2N,KAAM,CAClB1I,OAAO,GACP2I,SAAS,GACTrB,SAAS,GACTC,QAAO,EACPqB,MAAM,GACNC,YAAY,GACZC,iBAAiB,IAEnBzN,MAAO,KAAKC,UAAU,IACL,MAAhB6G,EAAKwH,OACJ,EAAKlP,MAAMmP,gBAES,MAAhBzH,EAAKwH,OACTlF,MAAM,gCAEc,MAAhBtC,EAAKwH,OACTlF,MAAM,yBAEc,MAAhBtC,EAAKwH,OACTlF,MAAM,iCAGNA,MAAM,qEAAoEtC,EAAK0H,eAMtFxH,OAAM,SAAAC,GAAQ,EAAKvH,SAAS,CAAE2N,KAAM,CACjC1I,OAAO,GACP2I,SAAS,GACTrB,SAAS,GACTwC,SAAS,GACTvC,QAAO,EACPqB,MAAM,GACNC,YAAY,GACZC,iBAAiB,IAEnBzN,MAAOiH,EAAIhH,UAAU,IAAQmJ,MAAM,0E,oBAG7C,WACI,MAAiCxI,KAAKjB,MAA9BK,EAAR,EAAQA,MAAOC,EAAf,EAAeA,SAASoN,EAAxB,EAAwBA,KAClBS,EAAO1H,cAAUC,YACvB3E,QAAQC,IAAImM,GACZ,IAAIY,EAAiB,uBAsBrB,OArBGZ,GAEMA,EAAKG,YAGXZ,EAAKnB,SACJwC,EAAiB,gCACb,qBAAKnL,UAAU,aAAf,SACQ,qDAEI,uBAAOK,KAAK,OAAOqF,KAAK,cAAcvI,MAAO2M,EAAKG,YAAa3J,SAAUjD,KAAK4G,yBAGtF,qBAAKjE,UAAU,aAAf,SACI,sDAEI,uBAAO0F,KAAK,mBAAmBrF,KAAK,QAAQlD,MAAO2M,EAAKI,iBAAkB5J,SAAUjD,KAAK4G,6BAKzGxH,EACG,0CAAaA,EAAM4C,WACd3C,EAEoB,SAAtBW,KAAKjB,MAAMwN,OACV,eAACtK,EAAA,EAAD,CAAWU,UAAU,oBAArB,UACH,qBAAKiB,IAAKoI,EAAMvI,MAAM,UADnB,IACkC,uBADlC,IACwC,uBAC3C,cAACP,EAAA,EAAD,CAAQnB,QAAS/B,KAAK+M,mBAAtB,uCAMJ,qBAAKpK,UAAU,eAAf,SACI,uBAAM0G,SAAUrJ,KAAK6G,aAArB,UACI,qBAAKlE,UAAU,aAAf,SACI,4CAEI,uBAAOK,KAAK,OAAOqF,KAAK,SAASvI,MAAO2M,EAAK1I,OAAQd,SAAUjD,KAAK4G,yBAG5E,qBAAKjE,UAAU,aAAf,SACI,8CAEI,uBAAOK,KAAK,OAAOqF,KAAK,WAAWvI,MAAO2M,EAAKC,SAAUzJ,SAAUjD,KAAK4G,yBAGhF,qBAAKjE,UAAU,aAAf,SACI,uDAEI,uBAAOK,KAAK,OAAOqF,KAAK,WAAWvI,MAAO2M,EAAKpB,SAAUpI,SAAUjD,KAAK4G,yBAGhF,qBAAKjE,UAAU,aAAf,SACI,0CAEI,uBAAO0F,KAAK,QAAQrF,KAAK,QAAQlD,MAAO2M,EAAKE,MAAO1J,SAAUjD,KAAK4G,yBAG3E,qBAAKjE,UAAU,aAAf,SACI,kDAEI,uBAAOK,KAAK,WAAWqF,KAAK,SAASoF,QAAShB,EAAKnB,OAAQrI,SAAUjD,KAAK4G,yBAGjFkH,EACD,qBAAKnL,UAAU,aAAf,SACI,wBAAQK,KAAK,SAAb,sCA5CT,kD,GAvJgBoB,IAAMC,WCkGtB0J,G,yDAhGX,WAAYvP,GAAQ,IAAD,8BACf,cAAMA,IACDO,MAAQ,CACTK,MAAO,KACPC,UAAU,EACVoN,KAAM,CACFpB,SAAU,GACVwC,SAAU,KAGlB,EAAKd,mBAAqB,EAAKA,mBAAmBpN,KAAxB,gBAVX,E,sDAajB,SAAmBjB,GAAO,IAAD,OACvBsB,KAAKlB,SAAL,2BAAmBkB,KAAKjB,OAAxB,IAA8BM,UAAU,KACxC,IAAM2N,EAAW,IAAIC,IACfC,EAAO1H,cACb2H,YAAgBD,EAAMF,GACrB/L,MAAK,SAACG,GAEgB6L,IAAmBG,qBAAqBhM,GAE9CA,EAAOqL,KACf/G,YAA8B,GAAMzE,MAAK,SAAC0E,GAC3C,IAAMC,EAAiB,CACnBC,OAAQ,MACRC,QAAS,CACG,cAAiB,UAAYH,EAC7B,OAAU,qBAG1B7E,QAAQC,IAAI4E,GACZ3E,MAAM,sDAAuD4E,GAC5D3E,MAAK,SAACC,GAEH,OADAJ,QAAQC,IAAIG,EAAIwM,QACE,MAAfxM,EAAIwM,QAEHlF,MAAM,gCACC,MAEY,MAAftH,EAAIwM,QACRlF,MAAM,iFACC,MAEJtH,EAAIC,UACZF,MAAK,SAAAiF,GACJpF,QAAQC,IAAImF,GACTA,GACH,EAAKpH,SAAS,CAAEM,MAAO,KAAKC,UAAU,IACtCiC,aAAa0M,QAAQ,OAAO9H,EAAKhC,KACjC5C,aAAa0M,QAAQ,WAAW9H,EAAKmF,UACrC/J,aAAa0M,QAAQ,SAAS9H,EAAKoF,OAAO2C,YAC1C,EAAKzP,MAAM0P,gBAGP,EAAKpP,SAAS,CAACO,UAAU,IACzBmJ,MAAM,uEAGbpC,OAAM,SAAAC,GAAQ,EAAKvH,SAAS,CAACM,MAAOiH,EAAIhH,UAAU,IAAQyB,QAAQC,IAAIiF,KAAKC,UAAUI,IAAMmC,MAAM,yEACjGpC,OAAM,SAAShH,UAIrBgH,OAAM,SAAChH,GAEYA,EAAMmO,KAAxB,IACMY,EAAe/O,EAAM4C,QAEb5C,EAAMuN,MAEDM,IAAmBO,oBAAoBpO,GAC1DoJ,MAAM2F,Q,oBAKd,WACI,MAAiCnO,KAAKjB,MAA9BK,EAAR,EAAQA,MAAOC,EAAf,EAAeA,SAAf,EAAwBoN,KACxB,OAAIrN,EACG,0CAAaA,EAAM4C,WACd3C,EAIR,sBAAKsD,UAAU,eAAf,UACI,qBAAKiB,IAAKoI,EAAMvI,MAAM,UACtB,uBACA,uBACA,cAACP,EAAA,EAAD,CAAQnB,QAAS/B,KAAK+M,mBAAoB5J,QAAQ,UAAlD,6CAPD,kD,GAnFKiB,IAAMC,YC+FX+J,G,yDAhGX,WAAY5P,GAAO,IAAD,8BACd,cAAMA,IASV6P,aAAe,SAACC,GACZ,EAAKxP,SAAL,2BAAmB,EAAKC,OAAxB,IAA8BM,UAAU,KACxCmG,cAAUC,YAAYC,YAAW,GAAMzE,MAAK,SAAC0E,GAKzC3E,MAAM,oDAAsDsN,EAJrC,CACnBzI,OAAQ,SACRC,QAAS,CAAC,cAAkB,UAAYH,KAGvC1E,MAAK,SAAAiF,GACFpF,QAAQC,IAAImF,GACZ,EAAKpH,SAAL,2BAAmB,EAAKC,OAAxB,IAA8BK,MAAO,KAAKC,UAAU,KACpD,EAAKkP,uBAGRnI,OAAM,SAAAC,GAAQ,EAAKvH,SAAL,2BAAmB,EAAKC,OAAxB,IAA8BK,MAAOiH,EAAIhH,UAAU,YAxB5D,EA4BlBmP,WAAa,SAACtP,GACV,EAAKV,MAAMiQ,cAAcvP,IA3BzB,EAAKH,MAAQ,CACTK,MAAO,KACPC,UAAU,EACVC,MAAO,IALG,E,qDAgClB,WAAoB,IAAD,OACa,MAAzBkG,cAAUC,YAIbD,cAAUC,YAAYC,YAAW,GAAMzE,MAAK,SAAC0E,GACzC,IAAMC,EAAiB,CACnBC,OAAQ,MACRC,QAAS,CAAC,cAAkB,UAAYH,IAE5C3E,MAAM,oDAAqDM,aAAaC,QAAQ,QAAQqE,GAAgB3E,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAC3HF,MACG,SAACG,GACGN,QAAQC,IAAIK,GACZ,EAAKtC,SAAS,CACVO,UAAU,EACVC,MAAO8B,OAGf,SAAChC,GACG,EAAKN,SAAS,CACVO,UAAU,EACVD,gBApBRoJ,MAAM,oD,oBA4Bd,WAAS,IAAD,OACJ,EAAmCxI,KAAKjB,MAAhCK,EAAR,EAAQA,MAAOC,EAAf,EAAeA,SAAUC,EAAzB,EAAyBA,MAC7B,OAAIF,EACK,0CAAaA,EAAM4C,WAChB3C,EAIR,cAAC4C,EAAA,EAAD,CAAWC,MAAM,KAAKC,MAAO,CAACC,QAAS,MAAvC,SACA,cAACgB,EAAA,EAAD,UACC9D,EAAM+D,KAAI,SAAAC,GAAI,OACb,cAACC,EAAA,EAAD,UACA,eAACC,EAAA,EAAD,CAAOrB,MAAO,CAAEsB,MAAO,QAASC,OAAQ,SAAxC,UACA,cAACF,EAAA,EAAKG,IAAN,CAAUR,QAAQ,MAAMS,IAAKN,EAAKO,QAClC,eAACL,EAAA,EAAKf,KAAN,WACE,cAACe,EAAA,EAAKM,MAAN,UAAaR,EAAKS,SAClB,cAACP,EAAA,EAAKZ,KAAN,UACCU,EAAK+B,iBAGR,eAAC7B,EAAA,EAAKZ,KAAN,gBAAcU,EAAKW,SACnB,cAACT,EAAA,EAAKmI,KAAN,CAAW5J,QAAS,WAAO,EAAKsM,aAAa/K,EAAKY,MAAlD,sBACF,cAACV,EAAA,EAAKmI,KAAN,CAAW5J,QAAS,WAAO,EAAKyM,WAAWlL,IAA3C,wBAXYA,EAAKY,YANZ,kD,GApEaE,IAAMC,YC4IjBqK,G,yDA7IX,WAAYlQ,GAAO,IAAD,8BACd,cAAMA,IAgBVmQ,UAAY,WACR,IAEIC,EAFAC,EAAavN,aAAaC,QAAQ,QAClCuN,EAAW,CAACC,SAAU,EAAKhQ,MAAMiQ,OAAO5J,QAAS,EAAKrG,MAAMqG,SAE7DyJ,GACCD,EAAU5I,KAAKwF,MAAMqD,IACbpO,KAAKqO,GAEbF,EAAU,CAACE,GAEfxN,aAAa0M,QAAQ,OAAOhI,KAAKC,UAAU2I,IAC3CpG,MAAM,iCA5BQ,EA+BlByG,gBAAiB,WACb,IAAI5N,EAASC,aAAaC,QAAQ,QAE9B2N,EAAO,CAACC,SAAU,CAAC,CAACC,UAAU,EAAKrQ,MAAMqG,QAAQlB,IAAImL,kBAAmB,EAAKtQ,MAAMiQ,SAASM,WAAa,EAAKvQ,MAAMqG,QAAQnB,MAAQ,EAAKlF,MAAMiQ,OAAQO,MAAOlO,EAAOmO,UAAU,EAAKzQ,MAAMyQ,WAC9L1O,QAAQC,IAAImO,GACZ1J,cAAUC,YAAYC,YAAW,GAAMzE,MAAK,SAAC0E,GACzC,IAAMC,EAAiB,CACnBC,OAAQ,OACRC,QAAS,CAAE,eAAgB,mBAC3B,cAAiB,UAAYH,GAC7BI,KAAMC,KAAKC,UAAUiJ,IAIzBlO,MADU,gDACC4E,GACN3E,MAAK,SAAAiF,GACFpF,QAAQC,IAAImF,GACM,KAAfA,EAAKwH,QACJ,EAAK5O,SAAL,2BAAmB,EAAKC,OAAxB,IAA8BK,MAAO,KAAKC,UAAU,KACpD,EAAKb,MAAMiR,kBAGXjH,MAAMtC,EAAK0H,YACX,EAAK9O,SAAL,2BAAmB,EAAKC,OAAxB,IAA8BK,MAAO8G,EAAK0H,WAAWvO,UAAU,SAKtE+G,OAAM,SAAAC,GAAQvF,QAAQC,IAAIsF,GAAK,EAAKvH,SAAL,2BAAmB,EAAKC,OAAxB,IAC/BK,MAAOiH,EAAIhH,UAAU,YA1D9B,EAAKN,MAAQ,CACTK,MAAO,KACPC,UAAU,EACV+F,QAAS,GACT4J,OAAO,EACPQ,UAAU,QAEd,EAAKE,mBAAqB,EAAKA,mBAAmB/P,KAAxB,gBAC1B,EAAKgQ,qBAAuB,EAAKA,qBAAqBhQ,KAA1B,gBAVd,E,sDAalB,SAAmBjB,GACfsB,KAAKlB,SAAL,2BAAkBkB,KAAKjB,OAAvB,IAA6BiQ,OAAOtQ,EAAME,OAAOkB,W,kCAkDrD,SAAqBpB,GACjBsB,KAAKlB,SAAL,2BAAkBkB,KAAKjB,OAAvB,IAA6ByQ,UAAW9Q,EAAME,OAAOkB,SACrDgB,QAAQC,IAAIrC,EAAME,OAAOkB,S,+BAG7B,WAAoB,IAAD,OACXsP,EAAYpP,KAAKxB,MAAM4Q,UAC3BpP,KAAKlB,SAAS,CACVO,UAAU,IAEd2B,MAAM,mDAAqDoO,GAAWnO,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UACrFF,MACG,SAACG,GACGN,QAAQC,IAAIK,GACZ,EAAKtC,SAAS,CACVO,UAAU,EACV+F,QAAShE,OAGjB,SAAChC,GACG,EAAKN,SAAS,CACVO,UAAU,EACVD,e,oBAMhB,WACI,OAAGY,KAAKjB,MAAMM,SAEN,cAAC4C,EAAA,EAAD,UACR,eAACuB,EAAA,EAAD,CAAMb,UAAU,cAAhB,UACQ,cAACa,EAAA,EAAKhB,OAAN,UAAcxC,KAAKjB,MAAMqG,QAAQrB,SACvC,cAACP,EAAA,EAAKG,IAAN,CAAUR,QAAQ,MAAMR,UAAU,aAAaiB,IAAK5D,KAAKjB,MAAMqG,QAAQvB,QACvE,eAACL,EAAA,EAAKf,KAAN,WACE,eAACe,EAAA,EAAKM,MAAN,gBAAe9D,KAAKjB,MAAMqG,QAAQnB,SAClC,cAACT,EAAA,EAAKZ,KAAN,UACC5C,KAAKjB,MAAMqG,QAAQC,cAEpB,eAAC3C,EAAA,EAAD,CAAYC,UAAU,OAAtB,UACI,cAACD,EAAA,EAAWE,KAAZ,CAAiBC,GAAG,eAApB,kCACA,cAACC,EAAA,EAAD,CACAC,YAAY,IACZ,aAAW,IACX,mBAAiB,eACjBC,KAAK,SACLuG,IAAI,IACJqG,IAAK5P,KAAKjB,MAAMqG,QAAQpB,MACxBlE,MAAOE,KAAKjB,MAAMiQ,OAClB/L,SAAUjD,KAAK0P,qBAEf,eAACrD,EAAA,EAAKwD,OAAN,CAAa,aAAW,gBAAgB5M,SAAUjD,KAAK2P,qBAAsBG,aAAa,OAA1F,UACA,uDACA,wBAAQhQ,MAAM,OAAd,sBACA,wBAAQA,MAAM,OAAd,qBACA,wBAAQA,MAAM,cAAd,yBACA,wBAAQA,MAAM,gBAAd,2BACA,wBAAQA,MAAM,QAAd,yBAGJ,cAACoD,EAAA,EAAD,CAAQC,QAAQ,UAAUpB,QAAS/B,KAAK2O,UAAxC,gCACA,cAACzL,EAAA,EAAD,CAAQC,QAAQ,UAAUpB,QAAS/B,KAAKiP,gBAAxC,wBAEF,eAACzL,EAAA,EAAKuM,OAAN,CAAapN,UAAU,aAAvB,kCAA0D3C,KAAKjB,MAAMqG,QAAQpB,MAAQhE,KAAKjB,MAAMiQ,eAKvF,cAACvF,EAAA,EAAD,CAASC,UAAU,SAASC,KAAK,SAAjC,SACP,sBAAMhH,UAAU,kBAAhB,+B,GAvIeyB,IAAMC,YC+ElB2L,E,kDA9EX,WAAYxR,GAAO,IAAD,8BACd,cAAMA,IACDO,MAAQ,CACTK,MAAO,KACPC,UAAU,EACV4Q,MAAO,IALG,E,qDAYlB,WACEjQ,KAAKY,gB,yBAGP,WAAc,IAAD,OAEPC,EAAS,WADES,aAAaC,QAAQ,QAGpCT,QAAQC,IAAIF,GACZb,KAAKlB,SAAL,2BAAmBkB,KAAKjB,OAAxB,IAA8BM,UAAU,KACtCmG,cAAUC,YAAYC,YAAW,GAAMzE,MAAK,SAAC0E,GAKzC3E,MAAM,gDAAkDH,EAJjC,CACnBgF,OAAQ,MACRC,QAAS,CAAC,cAAkB,UAAYH,KAEmC1E,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAC1FF,MACG,SAACG,GACGN,QAAQC,IAAIK,GACZ,EAAKtC,SAAS,CACVO,UAAU,EACV4Q,MAAO7O,OAGf,SAAChC,GACG,EAAKN,SAAS,CACVO,UAAU,EACVD,kB,oBAMxB,WACI,MAAmCY,KAAKjB,MAAhCK,EAAR,EAAQA,MAAOC,EAAf,EAAeA,SAAU4Q,EAAzB,EAAyBA,MACZ3O,aAAaC,QAAQ,QACtC,OAAInC,EACK,sBAAK,cAAY,UAAjB,oBAAmCA,EAAM4C,WACtC3C,EAIN,cAAC4C,EAAA,EAAD,UACA,cAACmB,EAAA,EAAD,UACC6M,EAAM5M,KAAI,SAAAC,GAAI,OACb,cAACC,EAAA,EAAD,UACA,eAACC,EAAA,EAAD,CAAOrB,MAAO,CAAEsB,MAAO,QAASC,OAAQ,SAAxC,UACA,cAACF,EAAA,EAAKf,KAAN,UACE,eAACe,EAAA,EAAKM,MAAN,oBAAmBR,EAAK4M,eAAenM,YAEzC,eAACP,EAAA,EAAKZ,KAAN,2BAAsBU,EAAK4M,eAAe5K,aAC1C,eAAC9B,EAAA,EAAKZ,KAAN,qBAAmB,IAAI8E,KAAKpE,EAAK6M,WAAWC,oBAC5C,eAAC5M,EAAA,EAAKZ,KAAN,4BAA0BU,EAAKiM,MAAMlE,YACrC,eAAC7H,EAAA,EAAKZ,KAAN,iCAA4BU,EAAKkM,aACjC,eAAChM,EAAA,EAAKZ,KAAN,gBAAcU,EAAKgM,kBATThM,EAAKY,YANd,qBAAK,cAAY,UAAjB,6B,GApDYE,IAAMC,W,SCqHhBgM,E,kDArHX,WAAY7R,GAAO,IAAD,8BACd,cAAMA,IAUV8R,iBAAkB,WACd,IAAIjP,EAASC,aAAaC,QAAQ,QAE9B2N,EAAO,CAACC,SADInJ,KAAKwF,MAAMlK,aAAaC,QAAQ,SAAS8B,KAAK,SAACnE,GAAU,MAAO,CAACmQ,kBAAmBnQ,EAAK6P,SAAUK,UAAWlQ,EAAKkG,QAAQlB,QAC3GoL,WAAY,EAAKvQ,MAAMwM,KAAKgF,QAAO,SAACC,EAAKtR,GAAU,OAAOsR,EAAQtR,EAAK6P,SAAW7P,EAAKkG,QAAQnB,QAAQ,GAAGsL,MAAOlO,EAAOmO,UAAU,EAAKzQ,MAAMyQ,WAC7K,EAAK1Q,SAAL,2BAAmB,EAAKC,OAAxB,IAA8BK,MAAO,KAAKC,UAAU,KACpDmG,cAAUC,YAAYC,YAAW,GAAMzE,MAAK,SAAC0E,GACzC,IAAMC,EAAiB,CACnBC,OAAQ,OACRC,QAAS,CAAE,eAAgB,mBAC3B,cAAiB,UAAYH,GAC7BI,KAAMC,KAAKC,UAAUiJ,IAEzBpO,QAAQC,IAAI6E,EAAeG,MAG3B/E,MADU,gDACC4E,GACN3E,MAAK,SAAAiF,GACFpF,QAAQC,IAAImF,GACM,KAAfA,EAAKwH,QACJ,EAAK5O,SAAL,2BAAmB,EAAKC,OAAxB,IAA8BK,MAAO,KAAKC,UAAU,KACpD,EAAKb,MAAMiR,kBAGXjH,MAAMtC,EAAK0H,YACX,EAAK9O,SAAL,2BAAmB,EAAKC,OAAxB,IAA8BK,MAAO8G,EAAK0H,WAAWvO,UAAU,SAKtE+G,OAAM,SAAAC,GAAQvF,QAAQC,IAAIiF,KAAKC,UAAUI,IAAMmC,MAAM,6CAA0C,EAAK1J,SAAL,2BAAmB,EAAKC,OAAxB,IAC/FK,MAAOiH,EAAIhH,UAAU,YAvC9B,EAAKN,MAAQ,CACTK,MAAO,KACPC,UAAU,EACVkM,KAAM,GACNiE,UAAU,QAEd,EAAKG,qBAAuB,EAAKA,qBAAqBhQ,KAA1B,gBARd,E,wDA6ClB,SAAqBjB,GACjBsB,KAAKlB,SAAL,2BAAkBkB,KAAKjB,OAAvB,IAA6ByQ,UAAW9Q,EAAME,OAAOkB,SACrDgB,QAAQC,IAAIrC,EAAME,OAAOkB,S,+BAG7B,WACI,IAAIyL,EAAOvF,KAAKwF,MAAMlK,aAAaC,QAAQ,SAC3CvB,KAAKlB,SAAS,CACVO,UAAU,EACVkM,KAAMA,M,oBAKd,WACI,OAAGvL,KAAKjB,MAAMM,SACPW,KAAKjB,MAAMwM,KAEV,cAACtJ,EAAA,EAAD,UACR,eAACuB,EAAA,EAAD,CAAMb,UAAU,cAAhB,UACQ,cAACa,EAAA,EAAKhB,OAAN,yBACN,eAACgB,EAAA,EAAKf,KAAN,WACA,cAACgO,EAAA,EAAD,CAAWtN,QAAQ,QAAnB,SACCnD,KAAKjB,MAAMwM,KAAKlI,KAAI,SAAAC,GAAI,OACvB,cAACmN,EAAA,EAAU5O,KAAX,UACI,eAACuB,EAAA,EAAD,WACI,eAACG,EAAA,EAAD,WACI,2CAAcD,EAAK8B,QAAQrB,UAC3B,qDAAwBT,EAAK8B,QAAQnB,YAEzC,cAACV,EAAA,EAAD,UACV,2CAAcD,EAAKyL,kBAPIzL,EAAK8B,QAAQlB,UAYpC,eAACV,EAAA,EAAKZ,KAAN,sBAAoB5C,KAAKjB,MAAMwM,KAAKgF,QAAO,SAACC,EAAKtR,GAAU,OAAOsR,EAAQtR,EAAK6P,SAAW7P,EAAKkG,QAAQnB,QAAQ,MAC7G,cAACvB,EAAA,EAAD,CAAYC,UAAU,OAAtB,SACI,eAAC0J,EAAA,EAAKwD,OAAN,CAAa,aAAW,gBAAgB5M,SAAUjD,KAAK2P,qBAAsBG,aAAa,OAA1F,UACA,uDACA,wBAAQhQ,MAAM,OAAd,sBACA,wBAAQA,MAAM,OAAd,qBACA,wBAAQA,MAAM,cAAd,yBACA,wBAAQA,MAAM,gBAAd,2BACA,wBAAQA,MAAM,QAAd,wBAGJ,cAACoD,EAAA,EAAD,CAAQC,QAAQ,UAAUpB,QAAS/B,KAAKsQ,iBAAxC,6BAMQ,cAACrO,EAAA,EAAD,UACJ,eAACuB,EAAA,EAAD,CAAMb,UAAU,cAAcE,GAAG,YAAjC,UACQ,cAACW,EAAA,EAAKhB,OAAN,yCACN,cAACgB,EAAA,EAAKf,KAAN,SAQC,cAACgH,EAAA,EAAD,CAASC,UAAU,SAASC,KAAK,SAAjC,SACP,sBAAMhH,UAAU,kBAAhB,+B,GA/GcyB,IAAMC,WCyHjBqM,E,kDA7Gb,WAAYlS,GAAO,IAAD,8BAChB,cAAMA,IAORmS,qBAAuB,SAACtQ,GACtB,EAAKvB,SAAS,CAACyN,OAAQ,OAAOlM,SAASA,KATvB,EAYlBuQ,oBAAsB,SAACC,GACrB,EAAK/R,SAAS,CAACyN,OAAQ,OAAOuE,WAAYD,KAb1B,EAgBlBE,sBAAwB,WACtBvI,MAAM,oBAjBU,EAoBlB6B,YAAc,WACZ,EAAKvL,SAAS,CAACyN,OAAQ,UArBP,EAwBlByE,gBAAkB,WAChB,EAAKlS,SAAS,CAACyN,OAAQ,WAzBP,EA4BlB0E,qBAAuB,WACrB,EAAKnS,SAAS,CAACyN,OAAQ,mBA7BP,EAgClB2E,kBAAoB,SAAChS,GACnB,EAAKJ,SAAS,CAACyN,OAAQ,cAAcnH,QAASlG,KAjC9B,EAoClBiS,iBAAmB,SAACjS,GAClB,EAAKJ,SAAS,CAACyN,OAAQ,cAAcnH,QAASlG,KArC9B,EAwClBkS,kBAAoB,WAClB5I,MAAM,kCACNlH,aAAa+P,WAAW,QACxB,EAAKvS,SAAS,CAACyN,OAAQ,UA3CP,EA8ClB+E,iBAAmB,WACjB,EAAKxS,SAAS,CAACyN,OAAQ,WA/CP,EAkDlBgF,qBAAuB,WACrB,EAAKzS,SAAS,CAACyN,OAAQ,gBAnDP,EAsDlBiF,yBAA2B,WACzB,EAAK1S,SAAS,CAACyN,OAAQ,kBAvDP,EA0DlBkF,gBAAkB,WAChB,EAAK3S,SAAS,CAACyN,OAAQ,eA3DP,EA8DlBmF,eAAiB,WACf,EAAK5S,SAAS,CAACyN,OAAQ,cA7DvB,EAAKxN,MAAQ,CACTwN,OAAQ,QAHI,E,0CAkElB,WACE,IAAIoF,EACJ,OAAO3R,KAAKjB,MAAMwN,QAChB,IAAK,gBACHoF,EAAc,cAAC,EAAD,CAAexL,iBAAkBnG,KAAK+Q,wBACpD,MACF,IAAK,aACHY,EAAc,cAAC,EAAD,CAAkBhE,cAAe3N,KAAKsR,mBACpD,MACF,IAAK,OACHK,EAAc,cAAC,EAAD,CAASvR,OAAQJ,KAAKjB,MAAM+R,WAAYzQ,SAAUL,KAAKjB,MAAMsB,SAAUlB,aAAca,KAAKmR,mBACxG,MACF,IAAK,eACHQ,EAAc,cAAC,EAAD,CAAalD,cAAezO,KAAKkR,oBAC/C,MACF,IAAK,cACHS,EAAc,cAAC,EAAD,CAAexL,iBAAkBnG,KAAK+Q,sBAAuB3L,QAASpF,KAAKjB,MAAMqG,UAC/F,MACF,IAAK,cACHuM,EAAc,cAAC,EAAD,CAAcvC,UAAWpP,KAAKjB,MAAMqG,QAASqK,cAAezP,KAAKoR,oBAC/E,MACF,IAAK,YACHO,EAAc,cAAC,EAAD,IACd,MACF,IAAK,WACHA,EAAc,cAAC,EAAD,CAAalC,cAAezP,KAAKoR,oBAC/C,MACF,QACEO,EAAc,cAAC,EAAD,CAAOzD,YAAalO,KAAKqK,cAI3C,OACA,sBAAK1H,UAAU,MAAM,cAAY,MAAjC,UACE,cAAC,EAAD,CAAQuH,uBAAwBlK,KAAKiR,qBAAsB3G,QAAStK,KAAKgR,gBAAiB5G,OAAQpK,KAAKsR,iBAAkB9G,WAAYxK,KAAKuR,qBAAsB7G,eAAgB1K,KAAKwR,yBACrL3H,WAAY7J,KAAK2Q,qBAAsB3G,gBAAiBhK,KAAK4Q,oBAAqBhG,YAAa5K,KAAKyR,gBAAiBzG,WAAYhL,KAAK0R,iBACrIC,S,GAxGWvN,IAAMC,WCFTuN,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqB7Q,MAAK,YAAkD,IAA/C8Q,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,OCCdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.1240288b.chunk.js","sourcesContent":["import React from 'react';\nimport {Card,Container,Row,Col,Accordion,InputGroup,FormControl,Button, Pagination} from 'react-bootstrap';\n\nclass Listado extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            error: null,\n            isLoaded: false,\n            items: [],\n            gte:0,lte:0,\n            limit:10,page:1\n        }\n        this.filterProducts = this.filterProducts.bind(this);\n        this.handleChangeGte = this.handleChangeGte.bind(this);\n        this.handleChangeLte = this.handleChangeLte.bind(this);\n    }\n\n\n    handleChangeGte(event) {\n      const target = event.target;\n      let value =parseInt(target.value);\n  \n      this.setState({\n          ...this.state,gte:value\n      });\n    }\n\n    handleChangeLte(event) {\n      const target = event.target;\n      let val =parseInt(target.value);\n  \n      this.setState({\n          ...this.state,\n          lte:val\n        \n      });\n    }\n\n    changePage = (event) => {\n      let newPage = event.target.key;\n      this.setState({...this.state,page: newPage});\n    }\n\n    getSnapshotBeforeUpdate(prevProps) {\n      return { notifyRequired: prevProps.search !== this.props.search || prevProps.category !== this.props.category };\n    }\n    \n    componentDidUpdate(prevProps, prevState, snapshot) {\n      if (snapshot.notifyRequired) {\n      let params = []\n      if(this.props.category != null){\n        params.push(\"categoria=\"+this.props.category)\n      }\n      if(this.props.search != null){\n        params.push(\"nombre=\"+this.props.search)\n      }\n      if(this.state.lte != null && this.state.lte != 0){\n        params.push(\"lte=\"+this.state.lte)\n      }\n      if(this.state.gte != null && this.state.gte != 0){\n        params.push(\"gte=\"+this.state.gte)\n      }\n      if(params.length > 0){\n        params = params.join('&');\n        this.getProducts(params)\n      }\n      }\n    }\n\n\n    componentDidMount(){\n      let params = []\n      if(this.props.category != null){\n        params.push(\"categoria=\"+this.props.category)\n      }\n      if(this.state.lte != null && this.state.lte != 0){\n        params.push(\"lte=\"+this.state.lte)\n      }\n      if(this.state.gte != null && this.state.gte != 0){\n        params.push(\"gte=\"+this.state.gte)\n      }\n      if(this.props.search != null){\n        params.push(\"nombre=\"+this.props.search)\n      }\n      if(params.length > 0){\n        params = params.join('&');\n        this.getProducts(params)\n      }\n      this.getProducts();\n    }\n\n    filterProducts(){\n      let params = []\n\n      if(this.state.lte != null && this.state.lte != 0){\n        params.push(\"lte=\"+this.state.lte)\n      }\n      if(this.state.gte != null && this.state.gte != 0){\n        params.push(\"gte=\"+this.state.gte)\n      }\n      if(params.length > 0){\n        this.setState({...this.state,\n          isLoaded: false});\n        params = params.join('&');\n        this.getProducts(params)\n      }\n    }\n\n    handleBuy = (prod) => {\n      this.props.onProductBuy(prod);\n  }\n\n    getProducts(params){\n      let filter = \"\";\n      if(params){\n        filter = \"?\"+params;\n      }\n      console.log(filter);\n      fetch(\"https://arq1-meli-grupo-e.herokuapp.com/products\" + filter).then(res => res.json())\n        .then(\n            (result) => {\n                console.log(result);\n                this.setState({\n                    isLoaded: true,\n                    items: result\n                });\n            },\n            (error) => {\n                this.setState({\n                    isLoaded: true,\n                    error\n                });\n            }\n        )\n    }\n\n    render(){\n        const { error, isLoaded, items } = this.state;\n        let userId = localStorage.getItem(\"user\");\nlet paginationElems = [];\nfor (let number = 1; number <= Math.ceil(this.state.items.length / this.state.limit); number++) {\n  paginationElems.push(\n    <Pagination.Item key={number} active={number === this.state.page} onClick={this.changePage}>\n      {number}\n    </Pagination.Item>\n  );\n}\n    if (error) {\n      return <div data-testid=\"Listado\">Error: {error.message}</div>;\n    } else if (!isLoaded) {\n      return <div data-testid=\"Listado\">Cargando...</div>;\n    } else {\n      return (\n        <Container fluid=\"lg\" style={{padding: '1%'}} data-testid=\"Listado\">\n          <Accordion defaultActiveKey=\"\">\n  <Accordion.Item eventKey=\"0\">\n    <Accordion.Header>Filtrar resultado</Accordion.Header>\n    <Accordion.Body>\n      <InputGroup className=\"mb-3\">\n        <InputGroup.Text id=\"basic-addon1\">Valor mayor a: </InputGroup.Text>\n        <FormControl\n          placeholder=\"0\"\n          aria-label=\"0\"\n          aria-describedby=\"basic-addon1\"\n          type=\"number\"\n          value={this.state.gte}\n          onChange={this.handleChangeGte}\n        />\n      </InputGroup>\n      <InputGroup className=\"mb-3\">\n        <InputGroup.Text id=\"basic-addon2\">Valor menor a: </InputGroup.Text>\n        <FormControl\n          placeholder=\"0\"\n          aria-label=\"0\"\n          aria-describedby=\"basic-addon2\"\n          type=\"number\"\n          value={this.state.lte}\n          onChange={this.handleChangeLte}\n        />\n      </InputGroup>\n      <Button variant=\"success\" onClick={this.filterProducts}>Filtrar</Button>\n    </Accordion.Body>\n  </Accordion.Item>\n</Accordion>\n          <Row>\n          {items.map(item => (\n            <Col key={item._id}>\n            <Card  style={{ width: '18rem', height: '500px'}}>\n            <Card.Img variant=\"top\" src={item.photo} />\n            <Card.Body>\n              <Card.Title>{item.nombre}</Card.Title>\n            </Card.Body>\n            <Card.Text>Cantidad disponible: {item.stock}</Card.Text>\n            <Card.Text>$ {item.valor}</Card.Text>\n            <Button variant=\"primary\" onClick={() => {this.handleBuy(item._id)}} disabled={userId==null}>Comprar</Button>\n          </Card>\n          </Col>\n           \n          ))}\n\n\n          </Row>\n          <div style={{\"textAlign\":\"center\"}}>\n          <Pagination style={{\"paddingLeft\":\"50%\"}}>\n            {paginationElems}\n          </Pagination>\n          </div>\n\n        </Container>\n      );\n    }\n  }\n    \n}\nexport default Listado;","// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"firebase/app\";\nimport { getAnalytics } from \"firebase/analytics\";\nimport { getStorage } from \"firebase/storage\";\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n// Your web app's Firebase configuration\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n    apiKey: \"AIzaSyBVwJk4DI_k64X4sTyoFcG6uxvI_qnJk-Q\",\n    authDomain: \"unq-arq-soft-1-grupo-e.firebaseapp.com\",\n    projectId: \"unq-arq-soft-1-grupo-e\",\n    storageBucket: \"unq-arq-soft-1-grupo-e.appspot.com\",\n    messagingSenderId: \"1064909149315\",\n    appId: \"1:1064909149315:web:42677b0348548404f2f7b6\",\n    measurementId: \"G-MLY1S1NYFG\"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst analytics = getAnalytics(app);\nconst storage = getStorage(app);\n\nexport default storage;","import React from 'react';\nimport './CrearProducto.css';\nimport { getAuth } from \"@firebase/auth\";\nimport {uploadBytes,getDownloadURL ,ref as sRef } from \"firebase/storage\";\nimport db from '../firebase';\nimport { Button,Spinner,Badge,Tooltip,OverlayTrigger,Accordion } from 'react-bootstrap';\n\n\n\nclass CrearProducto extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            previewImg: null,\n            csv: null, \n            error: null,\n            isLoaded: true,\n            product: {\n                nombre: \"\",\n                descripcion: \"\",\n                valor: 0,\n                stock: 1,\n                categoria: \"Agro\"\n            }\n        }\n        this.fileInput = React.createRef();\n        this.csvInput = React.createRef();\n        this.handleFileCsv = this.handleFileCsv.bind(this)\n      this.handleFileSelection = this.handleFileSelection.bind(this)\n        if(this.props.product){\n            this.state ={...this.state, product: this.props.product};\n        }\n        this.handleFieldChange = this.handleFieldChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleFileCsv(event){\n        let file = event.target.files[0];\n        const reader = new FileReader();\n    reader.onloadend = () => {\n      const base64String = reader.result.replace(\"data:\", \"\")\n      .replace(/^.+,/, \"\");\n      console.log(base64String);\n      this.setState({csv: base64String});\n    };\n    reader.readAsDataURL(file);\n        \n      }\n\n      handleFileSelection(event){\n        let preview = URL.createObjectURL(event.target.files[0]);\n        this.setState({previewImg: preview});\n      }\n\n      submitCsv = () => {\n        this.setState({ product:{\n            nombre: \"\",\n            descripcion: \"\",\n            valor: 0,\n            stock: 1,\n            categoria: \"Agro\"\n            \n        },error: null,isLoaded: false });\n        console.log(this.state.csv);\n          if(this.state.csv){\n            getAuth().currentUser.getIdToken(true).then((idToken) => {\n                const requestOptions = {\n                    method: 'POST',\n                    headers: { 'Content-Type': 'application/json',\n                    'Authorization': 'Bearer ' + idToken },\n                    body: JSON.stringify({csv: this.state.csv})\n                };\n        \n                let url = 'https://arq1-meli-grupo-e.herokuapp.com/products/csv';\n                fetch(url, requestOptions)\n                    .then(data => {\n                        console.log(data);\n                        this.setState({ product:{\n                            nombre: \"\",\n                            descripcion: \"\",\n                            valor: 0,\n                            stock: 1,\n                            categoria: \"Agro\"\n                            \n                        },error: null,isLoaded: true });\n                        this.props.onProductCreated();\n                    \n                    })\n                    .catch(err => {console.log(err);this.setState({ product:{\n                        nombre: \"\",\n                        descripcion: \"\",\n                        valor: 0,\n                        stock: 1,\n                        categoria: \"Agro\"\n                    },error: err,isLoaded: true })});\n            })\n          }\n      }\n\n    submitPhoto() {\n        let userId = localStorage.getItem(\"user\");\n        let pathUrl = userId + new Date().getTime() +\".jpg\";\n        const stRef = sRef(db,pathUrl);\n      return uploadBytes(stRef, this.fileInput.current.files[0]).then((snapshot) => {\n          getDownloadURL(snapshot.ref).then((downloadURL) => {\n              console.log(downloadURL);\n              this.setState({...this.state,product: {...this.state.product,photo: downloadURL}})\n              this.createUser();\n          });\n        });\n    }\n\n    handleFieldChange(event) {\n        const target = event.target;\n        const name = target.name;\n        let val = name === \"valor\" || name === \"stock\" ? parseInt(target.value) : target.value;\n    \n        this.setState({\n            ...this.state,\n            product:{\n                ...this.state.product,[name]: val\n            }\n          \n        });\n      }\n\n      createUser() {\n        let userId = localStorage.getItem(\"user\");\n        if(!this.state.product.photo){\n            alert(\"Debe cargar una imagen del producto para poder publicarlo.\");\n            return;\n        }\n\n        let product = {...this.state.product,owner: userId};\n\n        if(!getAuth().currentUser){\n            alert(\"Sesión expirada. Vuelva a loguearse\");\n            return;\n        }\n        \n        getAuth().currentUser.getIdToken(true).then((idToken) => {\n            const requestOptions = this.state.product._id ? {\n                method: 'PUT',\n                headers: { 'Content-Type': 'application/json',\n                            'Authorization': 'Bearer ' + idToken },\n                body: JSON.stringify(product)\n            } : {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json',\n                'Authorization': 'Bearer ' + idToken },\n                body: JSON.stringify(product)\n            };\n    \n            let url = 'https://arq1-meli-grupo-e.herokuapp.com/products';\n            if(this.state.product._id){\n                url = url + '/' + this.state.product._id\n            }\n            fetch(url, requestOptions)\n                .then(data => {\n                    console.log(data);\n                    this.setState({ product:{\n                        nombre: \"\",\n                        descripcion: \"\",\n                        valor: 0,\n                        stock: 1,\n                        categoria: \"Agro\"\n                        \n                    },error: null,isLoaded: true });\n                    this.props.onProductCreated();\n                \n                })\n                .catch(err => {this.setState({ product:{\n                    nombre: \"\",\n                    descripcion: \"\",\n                    valor: 0,\n                    stock: 1,\n                    categoria: \"Agro\"\n                },error: err,isLoaded: true })});\n        })\n        \n      }\n\n      handleSubmit(event) {\n        event.preventDefault();\n        if(getAuth().currentUser == null){\n            alert(\"Su sesión expiró, vuelva a identificarse\")\n            return;\n        }\n        this.setState({ ...this.state,isLoaded: false })\n        if(!this.state.product.photo){\n        this.submitPhoto();\n        }\n        else{\n            this.createUser();\n        }\n      }\n\n    render(){\n        const { error, isLoaded } = this.state;\n        let preview=this.state.product.photo ? <img src={this.state.product.photo} className=\"imgPreview\" alt=\"ProductImg\"/> : this.state.previewImg != null ? <img src={this.state.previewImg} className=\"imgPreview\" alt=\"ProductImg\"/> : <span/>; ;\n        let btnMsg = this.state.product._id ? \"Actualizar\" : \"Crear producto\";\n        let cargaMasiva = this.state.product._id ? null : \n        \n        <Accordion.Item eventKey=\"0\">\n    <Accordion.Header>Carga masiva de productos</Accordion.Header>\n    <Accordion.Body>\n    <div>\n            <label>\n                    Adjunte archivo .csv \n                    <input id=\"inputCsv\" type=\"file\" accept=\".csv\" ref={this.csvInput} onChange={this.handleFileCsv}/>\n                </label>\n                <OverlayTrigger\n      placement='top'\n      overlay={\n        <Tooltip id={`tooltip-top`}>\n          Campos a completar categoria,stock,nombre,valor,descripcion(opcional),photo(opcional)\n        </Tooltip>\n      }\n    ><Badge bg=\"info\">Info</Badge></OverlayTrigger>\n    <div>                <Button variant=\"success\" onClick={this.submitCsv} disabled={!this.state.csv}>Cargar</Button>\n</div>\n        </div>\n    </Accordion.Body>\n  </Accordion.Item>\n        ;\n        if (error) {\n        return <div>Error: {error.message}</div>;\n        } else if (!isLoaded) {\n        return <Spinner animation=\"border\" role=\"status\">\n        <span className=\"visually-hidden\">Loading...</span>\n      </Spinner>;\n        } else {\n        return (\n\n<Accordion>\n  {cargaMasiva}\n  <Accordion.Item eventKey=\"1\">\n    <Accordion.Header>Publicar producto</Accordion.Header>\n    <Accordion.Body>\n    <div className=\"product-form\">\n                <div className=\"imgSection\">\n                {preview}\n                </div>\n                <label>\n                    Selecciona una foto del producto:  \n                    <input type=\"file\" accept=\"image/jpeg\" ref={this.fileInput} onChange={this.handleFileSelection}/>\n                    \n                </label>\n                <form onSubmit={this.handleSubmit}>\n                    <div className=\"form-field\">\n                        <label>\n                            Nombre:\n                            <input type=\"text\" name=\"nombre\" required=\"true\" value={this.state.product.nombre} onChange={this.handleFieldChange}></input>\n                        </label>\n                    </div>\n                    <div className=\"form-field\">\n                        <label>\n                            Descripción:\n                            <textarea name=\"descripcion\" value={this.state.product.descripcion} onChange={this.handleFieldChange}/>\n                        </label>\n                    </div>\n                    <div className=\"form-field\">\n                        <label>\n                            Valor:\n                            $<input name=\"valor\" type=\"number\" required=\"true\" value={this.state.product.valor} min=\"1\" onChange={this.handleFieldChange}></input>\n                        </label>\n                    </div>\n                    <div className=\"form-field\">\n                        <label>\n                            Stock:\n                            <input name=\"stock\" type=\"number\" required=\"true\" value={this.state.product.stock} min=\"1\" onChange={this.handleFieldChange}></input>\n                        </label>\n                    </div>\n                    <div className=\"form-field\">\n                        <label>\n                            Categoria:\n                            <select name=\"categoria\" value={this.state.product.categoria} onChange={this.handleFieldChange}>\n                                <option value=\"Agro\">\n                                    Agro\n                                </option>\n                                <option value=\"Alimentos\">\n                                    Alimentos\n                                </option>\n                                <option value=\"Arte\">\n                                    Arte\n                                </option>\n                                <option value=\"Colleciones\">\n                                    Colecciones\n                                </option>\n                                <option value=\"Deportes\">\n                                    Deportes\n                                </option>\n                                <option value=\"Inmuebles\">\n                                    Inmuebles\n                                </option>\n                                <option value=\"Mascotas\">\n                                    Mascotas\n                                </option>\n                                <option value=\"Tecnologia\">\n                                    Técnologia\n                                </option>\n                                <option value=\"Vehiculos\">\n                                    Vehículos\n                                </option>\n                                <option value=\"Vestimenta\">\n                                    Vestimenta\n                                </option>\n                            </select>\n                        </label>\n                    </div>\n                    <div className=\"form-field\">\n                        <button type=\"submit\" title={btnMsg}>{btnMsg}</button>\n                    </div>\n                </form>\n                </div>\n    </Accordion.Body>\n  </Accordion.Item>\n</Accordion>\n\n            \n        );\n        }\n    }\n}\n\nexport default CrearProducto;","export default __webpack_public_path__ + \"static/media/ml.270e3502.png\";","export default __webpack_public_path__ + \"static/media/lupa.81ec5dc4.png\";","import React from 'react';\nimport './Header.css';\nimport logo from '../ml.png';\nimport search from '../lupa.png';\nimport {Nav,Navbar,NavDropdown,Container, Button,Form,FormControl} from 'react-bootstrap';\n\n\nclass CrearProducto extends React.Component{\n\n  constructor(props){\n    super(props);\n    this.state = {searchTxt: \"\"}\n    this.handleSearchChanged = this.handleSearchChanged.bind(this);\n  }\n\n\n  handleSearchChanged(event){\n    this.setState({searchTxt: event.target.value});\n  }\n\n  openCategory = (event) =>{\n    console.log(event.target.name);\n    this.props.onCategory(event.target.name);\n  }\n\n  searchProduct = () => {\n    console.log(this.state.searchTxt);\n    this.props.onSearchProduct(this.state.searchTxt);\n  }\n\n    goToCreation = () =>{\n      this.props.onProductCreationEvent();\n    }\n\n    goHome = () => {\n      this.props.onHome();\n    }\n\n    handleLogin = () => {\n      this.props.onLogin();\n    }\n\n    goToRegister = () =>{\n      this.props.onRegister();\n    }\n\n    goToUserProducts = () =>{\n      this.props.onUserProducts();\n    }\n\n    goToUserSales = () =>{\n      this.props.onUserSales();\n    }\n\n    signOut = () =>{\n      localStorage.clear();\n      this.goHome();\n    }\n\n    openCart = () => {\n      this.props.onUserCart();\n    }\n\n    render(){\n      let userId = localStorage.getItem(\"user\");\n      let username = localStorage.getItem(\"username\");\n      let seller = localStorage.getItem(\"seller\") === \"true\";\n      let cart = localStorage.getItem(\"cart\") ? JSON.parse(localStorage.getItem(\"cart\")).length : 0;\n      let crearProducto;\n      let misProductos;\n      let misVentas;\n      let registerOrSignOut = <Nav>\n        <Nav.Link onClick={this.handleLogin}> Iniciar sesión </Nav.Link>\n        <Nav.Link onClick={this.goToRegister}>Registrarme</Nav.Link>\n      </Nav>;\n      if(userId !== null){\n        registerOrSignOut = <Nav>\n          <Nav.Link onClick={this.openCart}>Carrito ({cart})</Nav.Link>\n          <Nav.Link onClick={this.signOut}>{username} ,Salir</Nav.Link>\n          </Nav>;\n        if(seller){\n        crearProducto = <Nav.Link onClick={this.goToCreation}>Publicar</Nav.Link>;\n        misProductos = <Nav.Link onClick={this.goToUserProducts}>Mis productos</Nav.Link>\n        misVentas = <Nav.Link onClick={this.goToUserSales}>Mis ventas</Nav.Link>\n        }\n      }\n        return(\n          <Navbar variant=\"dark\" bg=\"dark\" expand=\"lg\">\n  <Container fluid>\n      <Navbar.Brand href=\"\">\n        <img\n          alt=\"mtLogo\"\n          src={logo}\n          width=\"30\"\n          height=\"30\"\n          className=\"d-inline-block align-top\"\n        />{' '}\n      MercadoTrucho\n      </Navbar.Brand>\n    <Navbar.Toggle aria-controls=\"navbar-dark-example\" />\n    <Navbar.Collapse id=\"navbar-dark-example\">\n      <Nav>\n        {crearProducto}\n        {misProductos}\n        {misVentas}\n        <NavDropdown\n          id=\"nav-dropdown-dark-example\"\n          title=\"Categorías\"\n          menuVariant=\"dark\"\n        >\n          <NavDropdown.Item name=\"Agro\" onClick={this.openCategory}>Agro</NavDropdown.Item>\n          <NavDropdown.Item name=\"Alimentos\" onClick={this.openCategory}>Alimentos</NavDropdown.Item>\n          <NavDropdown.Item name=\"Arte\" onClick={this.openCategory}>Arte</NavDropdown.Item>\n          <NavDropdown.Item name=\"Colleciones\" onClick={this.openCategory}>Colecciones</NavDropdown.Item>\n          <NavDropdown.Item name=\"Deportes\" onClick={this.openCategory}>Deportes</NavDropdown.Item>\n          <NavDropdown.Item name=\"Inmuebles\" onClick={this.openCategory}>Inmuebles</NavDropdown.Item>\n          <NavDropdown.Item name=\"Mascotas\" onClick={this.openCategory}>Mascotas</NavDropdown.Item>\n          <NavDropdown.Item name=\"Tecnologia\" onClick={this.openCategory}>Técnologia</NavDropdown.Item>\n          <NavDropdown.Item name=\"Vehiculos\" onClick={this.openCategory}>Vehículos</NavDropdown.Item>\n          <NavDropdown.Item name=\"Vestimenta\" onClick={this.openCategory}>Vestimenta</NavDropdown.Item>\n\n        </NavDropdown>\n      </Nav>\n      <Form className=\"d-flex\">\n        <FormControl\n          type=\"search\"\n          placeholder=\"Buscar\"\n          className=\"me-2\"\n          aria-label=\"Search\"\n          onChange={this.handleSearchChanged}\n        />\n        <Button variant=\"outline-success\" onClick={this.searchProduct}>Buscar</Button>\n      </Form>\n      {registerOrSignOut}\n    </Navbar.Collapse>\n  </Container>\n</Navbar>\n      )\n    }\n}\nexport default CrearProducto;","export default __webpack_public_path__ + \"static/media/google-logo.0590aaf0.png\";","import React from 'react';\nimport './RegistrarUsuario.css';\nimport { getAuth, signInWithPopup, GoogleAuthProvider } from \"@firebase/auth\";\nimport Button from 'react-bootstrap/Button';\nimport logo from '../google-logo.png';\nimport { Container } from 'react-bootstrap';\n\n\nclass RegistrarUsuario extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            error: null,\n            isLoaded: true,\n            screen: 'auth',\n            token: null,\n            user: {\n                nombre:\"\",\n                apellido:\"\",\n                username:\"\",\n                seller:false,\n                email:\"\",\n                razonSocial:\"\",\n                emailCorporativo:\"\",\n                uid: \"\"\n\n            }\n        }\n        this.handleFieldChange = this.handleFieldChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleGoogleSignIn = this.handleGoogleSignIn.bind(this);\n    }\n    \n\n    handleGoogleSignIn(event){\n        const provider = new GoogleAuthProvider();\n        const auth = getAuth();\n        signInWithPopup(auth, provider)\n        .then((result) => {\n            // This gives you a Google Access Token. You can use it to access the Google API.\n            const credential = GoogleAuthProvider.credentialFromResult(result);\n            // The signed-in user info.\n            const user = result.user;\n            user.getIdToken(true).then((idToken) => {\n                this.setState({...this.state, token : idToken,screen: \"form\", user: {...this.state.user,uid: user.uid, nombre: user.displayName.split(' ')[0],email: user.email}})\n\n            })\n            // ...\n        }).catch((error) => {\n            // Handle Errors here.\n            const errorCode = error.code;\n            const errorMessage = error.message;\n            // The email of the user's account used.\n            const email = error.email;\n            // The AuthCredential type that was used.\n            const credential = GoogleAuthProvider.credentialFromError(error);\n            // ...\n        });\n    }\n\n    handleFieldChange(event) {\n        const target = event.target;\n        let value = target.type === 'checkbox' ? target.checked : target.value;\n        const name = target.name;\n\n    \n        this.setState({\n            ...this.state,\n            user:{\n                ...this.state.user,[name]: value\n            }\n          \n        });\n      }\n\n      handleSubmit(event) {\n        event.preventDefault();\n        this.setState({ ...this.state,isLoaded: false })\n        const requestOptions = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' ,'Access-Control-Allow-Origin':'http://localhost:3000',\n                        'Authorization': 'Bearer ' + this.state.token\n        },\n            body: JSON.stringify(this.state.user)\n        };\n        fetch('https://arq1-meli-grupo-e.herokuapp.com/users', requestOptions)\n            .then(data => {\n                console.log(data.status);\n                this.setState({ user: {\n                    nombre:\"\",\n                    apellido:\"\",\n                    username:\"\",\n                    seller:false,\n                    email:\"\",\n                    razonSocial:\"\",\n                    emailCorporativo:\"\"\n    \n                },error: null,isLoaded: true });\n                if(data.status === 200){\n                    this.props.onUserCreated();\n                }\n                else if(data.status === 403){\n                    alert(\"Error en la autenticación\");\n                }\n                else if(data.status === 303){\n                    alert(\"Usuario ya registrado\");\n                }\n                else if(data.status === 400){\n                    alert(\"Error en el ingreso de campos\")\n                }\n                else{\n                    alert(\"Ocurrió un error en el registro. Por favor intente nuevamente: \" + data.statusText);\n                }\n\n\n            \n            })\n            .catch(err => {this.setState({ user: {\n                nombre:\"\",\n                apellido:\"\",\n                username:\"\",\n                password:\"\",\n                seller:false,\n                email:\"\",\n                razonSocial:\"\",\n                emailCorporativo:\"\"\n\n            },error: err,isLoaded: true });alert(\"Ocurrió un error en el registro. Por favor intente nuevamente \");});\n      }\n\n    render(){\n        const { error, isLoaded,user } = this.state;\n        const auth = getAuth().currentUser;\n        console.log(auth);\n        let camposVendedor = <br/>\n        if(auth){\n            <div>\n                {auth.displayName}\n            </div>\n        }\n        if(user.seller){\n            camposVendedor = <div>\n                <div className=\"form-field\">\n                        <label>\n                            Razón Social:\n                            <input type=\"text\" name=\"razonSocial\" value={user.razonSocial} onChange={this.handleFieldChange}></input>\n                        </label>\n                    </div>\n                    <div className=\"form-field\">\n                        <label>\n                            Mail Corporativo:\n                            <input name=\"emailCorporativo\" type=\"email\" value={user.emailCorporativo} onChange={this.handleFieldChange}></input>\n                        </label>\n                    </div>\n            </div>\n        }\n        if (error) {\n        return <div>Error: {error.message}</div>;\n        } else if (!isLoaded) {\n        return <div>Cargando...</div>;\n        } else if(this.state.screen === \"auth\"){\n            return(<Container className=\"registerContainer\">\n                <img src={logo} width=\"150px\"></img> <br/> <br/>\n                <Button onClick={this.handleGoogleSignIn}>Registrarme con Google</Button>\n                </Container>\n            \n            )\n        }else{\n        return (\n            <div className=\"product-form\">\n                <form onSubmit={this.handleSubmit}>\n                    <div className=\"form-field\">\n                        <label>\n                            Nombre:\n                            <input type=\"text\" name=\"nombre\" value={user.nombre} onChange={this.handleFieldChange}></input>\n                        </label>\n                    </div>\n                    <div className=\"form-field\">\n                        <label>\n                            Apellido:\n                            <input type=\"text\" name=\"apellido\" value={user.apellido} onChange={this.handleFieldChange}></input>\n                        </label>\n                    </div>\n                    <div className=\"form-field\">\n                        <label>\n                            Nombre de usuario:\n                            <input type=\"text\" name=\"username\" value={user.username} onChange={this.handleFieldChange}></input>\n                        </label>\n                    </div>\n                    <div className=\"form-field\">\n                        <label>\n                            Mail:\n                            <input name=\"email\" type=\"email\" value={user.email} onChange={this.handleFieldChange}></input>\n                        </label>\n                    </div>\n                    <div className=\"form-field\">\n                        <label>\n                            Es vendedor?:\n                            <input type=\"checkbox\" name=\"seller\" checked={user.seller} onChange={this.handleFieldChange}></input>\n                        </label>\n                    </div>\n                    {camposVendedor}\n                    <div className=\"form-field\">\n                        <button type=\"submit\" >Terminar registro</button>\n                    </div>\n                </form>\n                </div>\n        );\n        }\n    }\n}\nexport default RegistrarUsuario;","import React from 'react';\nimport './Login.css';\nimport Button from 'react-bootstrap/Button';\nimport logo from '../google-logo.png';\n\n\nimport { getAuth, signInWithPopup, GoogleAuthProvider } from \"@firebase/auth\";\n\n\nclass Login extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: null,\n            isLoaded: true,\n            user: {\n                username: \"\",\n                password: \"\"\n            }\n        }\n        this.handleGoogleSignIn = this.handleGoogleSignIn.bind(this)\n    }\n\n      handleGoogleSignIn(event){\n        this.setState({ ...this.state,isLoaded: false })\n        const provider = new GoogleAuthProvider();\n        const auth = getAuth();\n        signInWithPopup(auth, provider)\n        .then((result) => {\n            // This gives you a Google Access Token. You can use it to access the Google API.\n            const credential = GoogleAuthProvider.credentialFromResult(result);\n            // The signed-in user info.\n            const user = result.user;\n            user.getIdToken(/* forceRefresh */ true).then((idToken) => {\n                const requestOptions = {\n                    method: 'GET',\n                    headers: { \n                                \"Authorization\": \"Bearer \" + idToken,\n                                \"Accept\": 'application/json'\n                            }\n                };\n                console.log(idToken);\n                fetch('https://arq1-meli-grupo-e.herokuapp.com/users/login', requestOptions)\n                .then((res) => {\n                    console.log(res.status);\n                    if(res.status === 403)\n                    {\n                        alert(\"Autenticación inválida\");\n                        return null;\n                    }\n                    else if(res.status === 404){\n                        alert(\"Usuario no registrado. Por favor, proceda a realizar el registro de su cuenta\");\n                        return null;\n                    }\n                    return res.json()\n                }).then(data => {\n                    console.log(data)\n                    if(data){\n                    this.setState({ error: null,isLoaded: true });\n                    localStorage.setItem(\"user\",data._id);\n                    localStorage.setItem(\"username\",data.username);\n                    localStorage.setItem(\"seller\",data.seller.toString());\n                    this.props.onUserLogin();\n                    }\n                    else{\n                        this.setState({isLoaded: true })\n                        alert(\"Ocurrió un error en el ingreso. Por favor intente nuevamente\");\n                    }\n                })\n                .catch(err => {this.setState({error: err,isLoaded: true });console.log(JSON.stringify(err));alert(\"Ocurrió un error en el ingreso Por favor intente nuevamente \");});\n              }).catch(function(error) {\n                // Handle error\n              });\n\n        }).catch((error) => {\n            // Handle Errors here.\n            const errorCode = error.code;\n            const errorMessage = error.message;\n            // The email of the user's account used.\n            const email = error.email;\n            // The AuthCredential type that was used.\n            const credential = GoogleAuthProvider.credentialFromError(error);\n            alert(errorMessage);\n            // ...\n        });\n    }\n\n    render(){\n        const { error, isLoaded,user } = this.state;\n        if (error) {\n        return <div>Error: {error.message}</div>;\n        } else if (!isLoaded) {\n        return <div>Cargando...</div>;\n        } else {\n        return (\n            <div className=\"loginSection\">\n                <img src={logo} width=\"100px\"/>\n                <br/>\n                <br/>\n                <Button onClick={this.handleGoogleSignIn} variant=\"success\">Iniciar sesión con Google</Button>\n                </div>\n        );\n        }\n    }\n\n}\nexport default Login;","import React from 'react';\nimport './UserListado.css';\nimport { getAuth} from \"@firebase/auth\";\nimport {Card,Container,Row,Col} from 'react-bootstrap';\n\n\n\nclass UserListado extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            error: null,\n            isLoaded: false,\n            items: []\n        }\n        // this.handleDelete = this.handleDelete.bind(this);\n    }\n\n    handleDelete = (prodId) => {\n        this.setState({ ...this.state,isLoaded: false })\n        getAuth().currentUser.getIdToken(true).then((idToken) => {\n            const requestOptions = {\n                method: 'DELETE',\n                headers: {'Authorization' : \"Bearer \" + idToken}\n            };\n            fetch('https://arq1-meli-grupo-e.herokuapp.com/products/' + prodId, requestOptions)\n                .then(data => {\n                    console.log(data);\n                    this.setState({ ...this.state,error: null,isLoaded: true });\n                    this.componentDidMount();\n                \n                })\n                .catch(err => {this.setState({ ...this.state,error: err,isLoaded: true })});\n        });\n    }\n\n    handleEdit = (prod) => {\n        this.props.onProductEdit(prod);\n    }\n\n    componentDidMount(){\n        if(getAuth().currentUser == null){\n            alert(\"Su sesión expiró, vuelva a identificarse\")\n            return;\n        }\n        getAuth().currentUser.getIdToken(true).then((idToken) => {\n            const requestOptions = {\n                method: 'GET',\n                headers: {'Authorization' : \"Bearer \" + idToken}\n            };\n            fetch(\"https://arq1-meli-grupo-e.herokuapp.com/products/\" +localStorage.getItem(\"user\"),requestOptions).then(res => res.json())\n        .then(\n            (result) => {\n                console.log(result);\n                this.setState({\n                    isLoaded: true,\n                    items: result\n                });\n            },\n            (error) => {\n                this.setState({\n                    isLoaded: true,\n                    error\n                });\n            }\n        )\n        });\n        \n    }\n\n    render(){\n        const { error, isLoaded, items } = this.state;\n    if (error) {\n      return <div>Error: {error.message}</div>;\n    } else if (!isLoaded) {\n      return <div>Cargando...</div>;\n    } else {\n      return (\n        <Container fluid=\"lg\" style={{padding: '1%'}}>\n        <Row>\n        {items.map(item => (\n          <Col key={item._id}>\n          <Card  style={{ width: '18rem', height: '500px'}}>\n          <Card.Img variant=\"top\" src={item.photo} />\n          <Card.Body>\n            <Card.Title>{item.nombre}</Card.Title>\n            <Card.Text>\n            {item.descripcion}\n            </Card.Text>\n          </Card.Body>\n          <Card.Text>$ {item.valor}</Card.Text>\n          <Card.Link onClick={() => {this.handleDelete(item._id)}}>Eliminar</Card.Link>\n        <Card.Link onClick={() => {this.handleEdit(item)}}>Editar</Card.Link>\n        </Card>\n        </Col>\n         \n        ))}\n        </Row>\n      </Container>\n      );\n    }\n  }\n    \n}\nexport default UserListado;","import React from 'react';\nimport {Card,Container,Spinner,Button,FormControl,InputGroup,Form} from 'react-bootstrap';\nimport { getAuth } from \"@firebase/auth\";\nimport \"./InfoProducto.css\";\n\nclass InfoProducto extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            error: null,\n            isLoaded: false,\n            product: {},\n            amount:1,\n            formaPago:\"Cash\"\n        }\n        this.handleChangeAmount = this.handleChangeAmount.bind(this);\n        this.handlePaymentChanged = this.handlePaymentChanged.bind(this);\n    }\n\n    handleChangeAmount(event){\n        this.setState({...this.state,amount:event.target.value});\n    }\n\n    addToCart = () =>{\n        let actualCart = localStorage.getItem(\"cart\");\n        let cartElem = {cantidad: this.state.amount,product: this.state.product};\n        let cartObj;\n        if(actualCart){\n            cartObj = JSON.parse(actualCart);\n            cartObj.push(cartElem);\n        }else{\n            cartObj = [cartElem];\n        }\n        localStorage.setItem(\"cart\",JSON.stringify(cartObj));\n        alert(\"Elemento agregado al carrito\");\n    }\n\n    purchaseProduct= () =>{\n        let userId = localStorage.getItem(\"user\");\n\n        let sell = {products: [{productId:this.state.product._id,cantidadProductos: this.state.amount}],costoTotal: (this.state.product.valor * this.state.amount),buyer: userId,formaPago:this.state.formaPago};\n        console.log(sell)\n        getAuth().currentUser.getIdToken(true).then((idToken) => {\n            const requestOptions = {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json',\n                'Authorization': 'Bearer ' + idToken },\n                body: JSON.stringify(sell)\n            };\n    \n            let url = 'https://arq1-meli-grupo-e.herokuapp.com/sales';\n            fetch(url, requestOptions)\n                .then(data => {\n                    console.log(data);\n                    if(data.status == 200){\n                        this.setState({ ...this.state,error: null,isLoaded: true });\n                        this.props.onSellCreated();\n                    }\n                    else{\n                        alert(data.statusText)\n                        this.setState({ ...this.state,error: data.statusText,isLoaded: true });\n                    }\n                    \n                \n                })\n                .catch(err => {console.log(err);this.setState({ ...this.state\n                ,error: err,isLoaded: true })});\n        })\n    }\n\n    handlePaymentChanged(event){\n        this.setState({...this.state,formaPago: event.target.value});\n        console.log(event.target.value);\n    }\n\n    componentDidMount(){\n        let productId = this.props.productId;\n        this.setState({\n            isLoaded: false\n        });\n        fetch(\"https://arq1-meli-grupo-e.herokuapp.com/product/\" + productId).then(res => res.json())\n        .then(\n            (result) => {\n                console.log(result);\n                this.setState({\n                    isLoaded: true,\n                    product: result\n                });\n            },\n            (error) => {\n                this.setState({\n                    isLoaded: true,\n                    error\n                });\n            }\n        )\n    }\n\n    render(){\n        if(this.state.isLoaded){\n            return(\n                <Container>\n        <Card className=\"text-center\">\n                <Card.Header>{this.state.product.nombre}</Card.Header>\n          <Card.Img variant=\"top\" className=\"productImg\" src={this.state.product.photo} />\n          <Card.Body>\n            <Card.Title>$ {this.state.product.valor}</Card.Title>\n            <Card.Text>\n            {this.state.product.descripcion}\n            </Card.Text>\n            <InputGroup className=\"mb-3\">\n                <InputGroup.Text id=\"basic-addon1\">Cantidad a comprar: </InputGroup.Text>\n                <FormControl\n                placeholder=\"0\"\n                aria-label=\"0\"\n                aria-describedby=\"basic-addon1\"\n                type=\"number\"\n                min=\"1\"\n                max={this.state.product.stock}\n                value={this.state.amount}\n                onChange={this.handleChangeAmount}\n                />\n                <Form.Select aria-label=\"Medio de pago\" onChange={this.handlePaymentChanged} defaultValue=\"Cash\">\n                <option>-No seleccionado-</option>\n                <option value=\"Cash\">Efectivo</option>\n                <option value=\"Card\">Tarjeta</option>\n                <option value=\"MercadoPago\">MercadoPago</option>\n                <option value=\"Transferencia\">Transferencia</option>\n                <option value=\"Otros\">Otros</option>\n                </Form.Select>\n            </InputGroup>\n            <Button variant=\"success\" onClick={this.addToCart}>Agregar al carrito</Button>\n            <Button variant=\"primary\" onClick={this.purchaseProduct}>Comprar</Button>\n          </Card.Body>\n          <Card.Footer className=\"text-muted\"> Quedan disponibles: {this.state.product.stock - this.state.amount}</Card.Footer>\n        </Card>\n                </Container>)\n        }\n        else{\n            return(<Spinner animation=\"border\" role=\"status\">\n            <span className=\"visually-hidden\">Cargando...</span>\n          </Spinner>)\n        }\n\n    }\n}\n\nexport default InfoProducto;","import React from 'react';\nimport {Card,Container,Row,Col} from 'react-bootstrap';\nimport { getAuth} from \"@firebase/auth\";\n\n\nclass VentasUser extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            error: null,\n            isLoaded: false,\n            sells: []\n        }\n\n    }\n\n\n\n    componentDidMount(){\n      this.getProducts();\n    }\n\n    getProducts(){\n        let userId = localStorage.getItem(\"user\");\n      let filter = \"?seller=\" + userId;\n      \n      console.log(filter);\n      this.setState({ ...this.state,isLoaded: false })\n        getAuth().currentUser.getIdToken(true).then((idToken) => {\n            const requestOptions = {\n                method: 'GET',\n                headers: {'Authorization' : \"Bearer \" + idToken}\n            };\n            fetch(\"https://arq1-meli-grupo-e.herokuapp.com/sales\" + filter,requestOptions).then(res => res.json())\n                .then(\n                    (result) => {\n                        console.log(result);\n                        this.setState({\n                            isLoaded: true,\n                            sells: result\n                        });\n                    },\n                    (error) => {\n                        this.setState({\n                            isLoaded: true,\n                            error\n                        });\n                    }\n                );})\n    }\n\n    render(){\n        const { error, isLoaded, sells } = this.state;\n        let userId = localStorage.getItem(\"user\");\n    if (error) {\n      return <div data-testid=\"Listado\">Error: {error.message}</div>;\n    } else if (!isLoaded) {\n      return <div data-testid=\"Listado\">Cargando...</div>;\n    } else {\n      return (\n          <Container>\n          <Row>\n          {sells.map(item => (\n            <Col key={item._id}>\n            <Card  style={{ width: '18rem', height: '300px'}}>\n            <Card.Body>\n              <Card.Title>Venta {item.wrapperProduct.nombre}</Card.Title>\n            </Card.Body>\n            <Card.Text>Categoría {item.wrapperProduct.categoria}</Card.Text>\n            <Card.Text> Fecha {new Date(item.createdAt).toLocaleString()}</Card.Text>\n            <Card.Text> Comprado por {item.buyer.username}</Card.Text>\n            <Card.Text>Método de pago: {item.formaPago}</Card.Text>\n            <Card.Text>$ {item.costoTotal}</Card.Text>\n          </Card>\n          </Col>\n           \n          ))}\n          </Row>\n        </Container>\n      );\n    }\n  }\n    \n}\nexport default VentasUser;","import React from 'react';\nimport {Card,Container,Spinner,Button,ListGroup,Col,Row,InputGroup,Form} from 'react-bootstrap';\nimport { getAuth } from \"@firebase/auth\";\n\nclass InfoCarrito extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            error: null,\n            isLoaded: false,\n            cart: [],\n            formaPago:\"Cash\"\n        }\n        this.handlePaymentChanged = this.handlePaymentChanged.bind(this);\n    }\n\n    purchaseProducts= () =>{\n        let userId = localStorage.getItem(\"user\");\n        let cartItems = JSON.parse(localStorage.getItem(\"cart\")).map( (prod) => {return {cantidadProductos: prod.cantidad, productId: prod.product._id}});\n        let sell = {products: cartItems,costoTotal: this.state.cart.reduce((prev,prod) => {return prev + (prod.cantidad * prod.product.valor)},0),buyer: userId,formaPago:this.state.formaPago};\n        this.setState({ ...this.state,error: null,isLoaded: false });\n        getAuth().currentUser.getIdToken(true).then((idToken) => {\n            const requestOptions = {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json',\n                'Authorization': 'Bearer ' + idToken },\n                body: JSON.stringify(sell)\n            };\n            console.log(requestOptions.body);\n    \n            let url = 'https://arq1-meli-grupo-e.herokuapp.com/sales';\n            fetch(url, requestOptions)\n                .then(data => {\n                    console.log(data);\n                    if(data.status == 200){\n                        this.setState({ ...this.state,error: null,isLoaded: true });\n                        this.props.onSellCreated();\n                    }\n                    else{\n                        alert(data.statusText)\n                        this.setState({ ...this.state,error: data.statusText,isLoaded: true });\n                    }\n                    \n                \n                })\n                .catch(err => {console.log(JSON.stringify(err));alert(\"Ocurrió un error al realizar la compra\");this.setState({ ...this.state\n                ,error: err,isLoaded: true })});\n        })\n    }\n\n    handlePaymentChanged(event){\n        this.setState({...this.state,formaPago: event.target.value});\n        console.log(event.target.value);\n    }\n\n    componentDidMount(){\n        let cart = JSON.parse(localStorage.getItem(\"cart\"));\n        this.setState({\n            isLoaded: true,\n            cart: cart\n        });\n        \n    }\n\n    render(){\n        if(this.state.isLoaded){\n            if(this.state.cart){\n            return(\n                <Container>\n        <Card className=\"text-center\">\n                <Card.Header>Tu carrito</Card.Header>\n          <Card.Body>\n          <ListGroup variant=\"flush\">\n          {this.state.cart.map(item => (\n            <ListGroup.Item key={item.product._id}>\n                <Row>\n                    <Col>\n                        <p>Producto: {item.product.nombre}</p>\n                        <p>Precio por unidad: ${item.product.valor}</p>\n                    </Col>\n                    <Col>\n          <p>Cantidad: {item.cantidad}</p>\n                    </Col>\n                </Row>\n            </ListGroup.Item>))}\n            </ListGroup>\n          <Card.Text>Total: ${this.state.cart.reduce((prev,prod) => {return prev + (prod.cantidad * prod.product.valor)},0)}</Card.Text>\n            <InputGroup className=\"mb-3\">\n                <Form.Select aria-label=\"Medio de pago\" onChange={this.handlePaymentChanged} defaultValue=\"Cash\">\n                <option>-No seleccionado-</option>\n                <option value=\"Cash\">Efectivo</option>\n                <option value=\"Card\">Tarjeta</option>\n                <option value=\"MercadoPago\">MercadoPago</option>\n                <option value=\"Transferencia\">Transferencia</option>\n                <option value=\"Otros\">Otros</option>\n                </Form.Select>\n            </InputGroup>\n            <Button variant=\"primary\" onClick={this.purchaseProducts}>Comprar</Button>\n          </Card.Body>\n        </Card>\n                </Container>)\n        }\n        else{\n            return( <Container>\n                <Card className=\"text-center\" id=\"emptyCart\">\n                        <Card.Header>Su carrito esá vacío</Card.Header>\n                  <Card.Body>\n                  </Card.Body>\n                </Card>\n                        </Container>)\n        }\n    }\n\n        else{\n            return(<Spinner animation=\"border\" role=\"status\">\n            <span className=\"visually-hidden\">Cargando...</span>\n          </Spinner>)\n        }\n\n    }\n}\n\nexport default InfoCarrito;","import React from 'react';\nimport Listado from './listado/Listado';\nimport CrearProducto from './crearProducto/CrearProducto';\nimport Header from './header/Header';\nimport './App.css';\nimport RegistrarUsuario from './registerUser/RegistrarUsuario';\nimport Login from './login/Login';\nimport UserListado from './productosUsuario/UserListado';\nimport { getAuth } from '@firebase/auth';\nimport InfoProducto from './infoProducto/InfoProducto';\nimport VentasUser from './ventasUser/VentasUser';\nimport InfoCarrito from './InfoCarrito/InfoCarrito';\n\n\nclass App extends React.Component {\n\n  constructor(props){\n    super(props);\n    this.state = {\n        screen: 'list'\n    }\n\n}\n\n  handleSearchCategory = (category) => {\n    this.setState({screen: 'list',category:category})\n  }\n\n  handleSearchProduct = (text) => {\n    this.setState({screen: 'list',searchText: text})\n  }\n\n  handleProductCreation = () => {\n    alert('Producto Creado');\n  }\n\n  handleLogin = () =>{\n    this.setState({screen: 'list'})\n  }\n\n  handleUserLogin = () =>{\n    this.setState({screen: 'login'})\n  }\n\n  handleCreationScreen = () => {\n    this.setState({screen: 'createProduct'});\n  }\n\n  handleProductEdit = (prod) => {\n    this.setState({screen: 'editProduct',product: prod});\n  }\n\n  handleProductBuy = (prod) => {\n    this.setState({screen: 'productInfo',product: prod});\n  }\n\n  handleSellCreated = () => {\n    alert(\"Compra realizada con éxito!\");\n    localStorage.removeItem(\"cart\")\n    this.setState({screen: 'list'})\n  }\n\n  handleHomeScreen = () => {\n    this.setState({screen: 'login'});\n  }\n\n  handleRegisterScreen = () => {\n    this.setState({screen: 'createUser'});\n  }\n\n  handleUserProductsScreen = () => {\n    this.setState({screen: 'userProducts'});\n  }\n\n  handleUserSales = () => {\n    this.setState({screen: 'userSales'});\n  }\n\n  handleUserCart = () => {\n    this.setState({screen: 'userCart'})\n  }\n\n  render(){\n    let mainContent;\n    switch(this.state.screen){\n      case 'createProduct':\n        mainContent = <CrearProducto onProductCreated={this.handleProductCreation}/>;\n        break;\n      case 'createUser':\n        mainContent = <RegistrarUsuario onUserCreated={this.handleHomeScreen}/>;\n        break\n      case 'list':\n        mainContent = <Listado search={this.state.searchText} category={this.state.category} onProductBuy={this.handleProductBuy}/>;\n        break\n      case 'userProducts':\n        mainContent = <UserListado onProductEdit={this.handleProductEdit}/>;\n        break;\n      case 'editProduct':\n        mainContent = <CrearProducto onProductCreated={this.handleProductCreation} product={this.state.product}/>\n        break;\n      case 'productInfo':\n        mainContent = <InfoProducto productId={this.state.product} onSellCreated={this.handleSellCreated}/>\n        break;\n      case 'userSales':\n        mainContent = <VentasUser/>\n        break;\n      case 'userCart':\n        mainContent = <InfoCarrito onSellCreated={this.handleSellCreated}/>\n        break;\n      default:\n        mainContent = <Login onUserLogin={this.handleLogin}/>;\n        break;\n\n    }\n    return (\n    <div className=\"App\" data-testid=\"App\">\n      <Header onProductCreationEvent={this.handleCreationScreen} onLogin={this.handleUserLogin} onHome={this.handleHomeScreen} onRegister={this.handleRegisterScreen} onUserProducts={this.handleUserProductsScreen}\n      onCategory={this.handleSearchCategory} onSearchProduct={this.handleSearchProduct} onUserSales={this.handleUserSales} onUserCart={this.handleUserCart}/>\n      {mainContent}\n\n    </div>\n  );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}