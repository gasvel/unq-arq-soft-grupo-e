{"version":3,"sources":["listado/Listado.js","firebase.js","crearProducto/CrearProducto.js","ml.png","lupa.png","header/Header.js","registerUser/RegistrarUsuario.js","login/Login.js","productosUsuario/UserListado.js","App.js","reportWebVitals.js","index.js"],"names":["Listado","props","state","error","isLoaded","products","prevProps","notifyRequired","search","this","category","prevState","snapshot","params","push","length","join","getProducts","filter","console","log","fetch","then","res","json","result","setState","items","message","Container","fluid","style","padding","Row","map","item","Col","Card","width","height","Img","variant","src","photo","Body","Title","nombre","Text","descripcion","valor","_id","React","Component","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","storage","getAnalytics","getStorage","CrearProducto","previewImg","product","stock","categoria","fileInput","createRef","handleFileSelection","bind","handleFieldChange","handleSubmit","event","previewURL","URL","createObjectURL","target","files","pathUrl","localStorage","getItem","Date","getTime","stRef","sRef","db","uploadBytes","current","getDownloadURL","ref","downloadURL","createUser","name","val","parseInt","value","userId","owner","getAuth","currentUser","getIdToken","idToken","requestOptions","method","headers","body","JSON","stringify","url","data","onProductCreated","catch","err","alert","preventDefault","submitPhoto","preview","className","alt","btnMsg","type","accept","onChange","onSubmit","required","min","title","openCategory","onCategory","searchProduct","searchTxt","onSearchProduct","goToCreation","onProductCreationEvent","goHome","onHome","handleLogin","onLogin","goToRegister","onRegister","goToUserProducts","onUserProducts","signOut","removeItem","handleSearchChanged","crearProducto","misProductos","username","seller","registerOrSignOut","Nav","Link","onClick","Navbar","bg","expand","Brand","href","logo","Toggle","Collapse","id","NavDropdown","menuVariant","Item","Form","FormControl","placeholder","Button","RegistrarUsuario","screen","token","user","apellido","email","razonSocial","emailCorporativo","uid","handleGoogleSignIn","provider","GoogleAuthProvider","auth","signInWithPopup","credentialFromResult","displayName","split","code","credentialFromError","checked","status","onUserCreated","statusText","password","camposVendedor","Login","setItem","toString","onUserLogin","errorMessage","UserListado","handleDelete","prodId","componentDidMount","handleEdit","prod","onProductEdit","App","handleSearchCategory","handleSearchProduct","text","searchText","handleProductCreation","handleUserLogin","handleCreationScreen","handleProductEdit","handleHomeScreen","handleRegisterScreen","handleUserProductsScreen","clear","mainContent","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a79c0f4b.chunk.js","sourcesContent":["import React from 'react';\nimport {Card,Container,Row,Col} from 'react-bootstrap';\n\nclass Listado extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            error: null,\n            isLoaded: false,\n            products: []\n        }\n    }\n\n\n    getSnapshotBeforeUpdate(prevProps) {\n      return { notifyRequired: prevProps.search !== this.props.search || prevProps.category !== this.props.category };\n    }\n    \n    componentDidUpdate(prevProps, prevState, snapshot) {\n      if (snapshot.notifyRequired) {\n      let params = []\n      if(this.props.category != null){\n        params.push(\"categoria=\"+this.props.category)\n      }\n      if(this.props.search != null){\n        params.push(\"nombre=\"+this.props.search)\n      }\n      if(params.length > 0){\n        params = params.join('&');\n        this.getProducts(params)\n      }\n      }\n    }\n\n\n    componentDidMount(){\n      let params = []\n      if(this.props.category != null){\n        params.push(\"categoria=\"+this.props.category)\n      }\n      if(this.props.search != null){\n        params.push(\"nombre=\"+this.props.search)\n      }\n      if(params.length > 0){\n        params = params.join('&');\n        this.getProducts(params)\n      }\n      this.getProducts();\n    }\n\n    getProducts(params){\n      let filter = \"\";\n      if(params){\n        filter = \"?\"+params;\n      }\n      console.log(filter);\n      fetch(\"https://arq1-meli-grupo-e.herokuapp.com/products\" + filter).then(res => res.json())\n        .then(\n            (result) => {\n                console.log(result);\n                this.setState({\n                    isLoaded: true,\n                    items: result\n                });\n            },\n            (error) => {\n                this.setState({\n                    isLoaded: true,\n                    error\n                });\n            }\n        )\n    }\n\n    render(){\n        const { error, isLoaded, items } = this.state;\n    if (error) {\n      return <div>Error: {error.message}</div>;\n    } else if (!isLoaded) {\n      return <div>Cargando...</div>;\n    } else {\n      return (\n        <Container fluid=\"lg\" style={{padding: '1%'}}>\n          <Row>\n          {items.map(item => (\n            <Col key={item._id}>\n            <Card  style={{ width: '18rem', height: '500px'}}>\n            <Card.Img variant=\"top\" src={item.photo} />\n            <Card.Body>\n              <Card.Title>{item.nombre}</Card.Title>\n              <Card.Text>\n              {item.descripcion}\n              </Card.Text>\n            </Card.Body>\n            <Card.Text>$ {item.valor}</Card.Text>\n          </Card>\n          </Col>\n           \n          ))}\n          </Row>\n        </Container>\n      );\n    }\n  }\n    \n}\nexport default Listado;","// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"firebase/app\";\nimport { getAnalytics } from \"firebase/analytics\";\nimport { getStorage } from \"firebase/storage\";\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n// Your web app's Firebase configuration\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n    apiKey: \"AIzaSyBVwJk4DI_k64X4sTyoFcG6uxvI_qnJk-Q\",\n    authDomain: \"unq-arq-soft-1-grupo-e.firebaseapp.com\",\n    projectId: \"unq-arq-soft-1-grupo-e\",\n    storageBucket: \"unq-arq-soft-1-grupo-e.appspot.com\",\n    messagingSenderId: \"1064909149315\",\n    appId: \"1:1064909149315:web:42677b0348548404f2f7b6\",\n    measurementId: \"G-MLY1S1NYFG\"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst analytics = getAnalytics(app);\nconst storage = getStorage(app);\n\nexport default storage;","import React from 'react';\nimport './CrearProducto.css';\nimport { getAuth } from \"@firebase/auth\";\nimport {uploadBytes,getDownloadURL ,ref as sRef } from \"firebase/storage\";\nimport db from '../firebase';\n\n\n\nclass CrearProducto extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            previewImg: null,\n            error: null,\n            isLoaded: true,\n            product: {\n                nombre: \"\",\n                descripcion: \"\",\n                valor: 0,\n                stock: 1,\n                categoria: \"Agro\"\n            }\n        }\n        this.fileInput = React.createRef();\n      this.handleFileSelection = this.handleFileSelection.bind(this)\n        if(this.props.product){\n            this.state ={...this.state, product: this.props.product};\n        }\n        this.handleFieldChange = this.handleFieldChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleFileSelection(event){\n        let previewURL = URL.createObjectURL(event.target.files[0]);\n        this.setState({previewImg: previewURL});\n      }\n\n    submitPhoto() {\n        let userId = localStorage.getItem(\"user\");\n        let pathUrl = userId + new Date().getTime() +\".jpg\";\n        const stRef = sRef(db,pathUrl);\n      return uploadBytes(stRef, this.fileInput.current.files[0]).then((snapshot) => {\n          getDownloadURL(snapshot.ref).then((downloadURL) => {\n              console.log(downloadURL);\n              this.setState({...this.state,product: {...this.state.product,photo: downloadURL}})\n              this.createUser();\n          });\n        });\n    }\n\n    handleFieldChange(event) {\n        const target = event.target;\n        const name = target.name;\n        let val = name === \"valor\" || name === \"stock\" ? parseInt(target.value) : target.value;\n    \n        this.setState({\n            ...this.state,\n            product:{\n                ...this.state.product,[name]: val\n            }\n          \n        });\n      }\n\n      createUser() {\n        let userId = localStorage.getItem(\"user\");\n        if(!this.state.product.photo){\n            alert(\"Debe cargar una imagen del producto para poder publicarlo.\");\n            return;\n        }\n\n        let product = {...this.state.product,owner: userId};\n        \n        getAuth().currentUser.getIdToken(true).then((idToken) => {\n            const requestOptions = this.state.product._id ? {\n                method: 'PUT',\n                headers: { 'Content-Type': 'application/json',\n                            'Authorization': 'Bearer ' + idToken },\n                body: JSON.stringify(product)\n            } : {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json',\n                'Authorization': 'Bearer ' + idToken },\n                body: JSON.stringify(product)\n            };\n    \n            let url = 'https://arq1-meli-grupo-e.herokuapp.com/products';\n            if(this.state.product._id){\n                url = url + '/' + this.state.product._id\n            }\n            fetch(url, requestOptions)\n                .then(data => {\n                    console.log(data);\n                    this.setState({ product:{\n                        nombre: \"\",\n                        descripcion: \"\",\n                        valor: 0,\n                        stock: 1,\n                        categoria: \"Agro\"\n                        \n                    },error: null,isLoaded: true });\n                    this.props.onProductCreated();\n                \n                })\n                .catch(err => {this.setState({ product:{\n                    nombre: \"\",\n                    descripcion: \"\",\n                    valor: 0,\n                    stock: 1,\n                    categoria: \"Agro\"\n                },error: err,isLoaded: true })});\n        })\n        \n      }\n\n      handleSubmit(event) {\n        event.preventDefault();\n        if(getAuth().currentUser == null){\n            alert(\"Su sesión expiró, vuelva a identificarse\")\n            return;\n        }\n        this.setState({ ...this.state,isLoaded: false })\n        if(!this.state.product.photo){\n        this.submitPhoto();\n        }\n        else{\n            this.createUser();\n        }\n      }\n\n    render(){\n        const { error, isLoaded } = this.state;\n        let preview=this.state.product.photo ? <img src={this.state.product.photo} className=\"imgPreview\" alt=\"ProductImg\"/> : this.state.previewImg != null ? <img src={this.state.previewImg} className=\"imgPreview\" alt=\"ProductImg\"/> : <span/>; ;\n        let btnMsg = this.state.product._id ? \"Actualizar\" : \"Crear producto\";\n        if (error) {\n        return <div>Error: {error.message}</div>;\n        } else if (!isLoaded) {\n        return <div>Cargando...</div>;\n        } else {\n        return (\n            <div className=\"product-form\">\n                <div className=\"imgSection\">\n                {preview}\n                </div>\n                <label>\n                    Selecciona una foto del producto:  \n                    <input type=\"file\" accept=\"image/jpeg\" ref={this.fileInput} onChange={this.handleFileSelection}/>\n                </label>\n                <form onSubmit={this.handleSubmit}>\n                    <div className=\"form-field\">\n                        <label>\n                            Nombre:\n                            <input type=\"text\" name=\"nombre\" required=\"true\" value={this.state.product.nombre} onChange={this.handleFieldChange}></input>\n                        </label>\n                    </div>\n                    <div className=\"form-field\">\n                        <label>\n                            Descripción:\n                            <textarea name=\"descripcion\" value={this.state.product.descripcion} onChange={this.handleFieldChange}/>\n                        </label>\n                    </div>\n                    <div className=\"form-field\">\n                        <label>\n                            Valor:\n                            $<input name=\"valor\" type=\"number\" required=\"true\" value={this.state.product.valor} min=\"1\" onChange={this.handleFieldChange}></input>\n                        </label>\n                    </div>\n                    <div className=\"form-field\">\n                        <label>\n                            Stock:\n                            <input name=\"stock\" type=\"number\" required=\"true\" value={this.state.product.stock} min=\"1\" onChange={this.handleFieldChange}></input>\n                        </label>\n                    </div>\n                    <div className=\"form-field\">\n                        <label>\n                            Categoria:\n                            <select name=\"categoria\" value={this.state.product.categoria} onChange={this.handleFieldChange}>\n                                <option value=\"Agro\">\n                                    Agro\n                                </option>\n                                <option value=\"Alimentos\">\n                                    Alimentos\n                                </option>\n                                <option value=\"Arte\">\n                                    Arte\n                                </option>\n                                <option value=\"Colleciones\">\n                                    Colecciones\n                                </option>\n                                <option value=\"Deportes\">\n                                    Deportes\n                                </option>\n                                <option value=\"Inmuebles\">\n                                    Inmuebles\n                                </option>\n                                <option value=\"Mascotas\">\n                                    Mascotas\n                                </option>\n                                <option value=\"Tecnologia\">\n                                    Técnologia\n                                </option>\n                                <option value=\"Vehiculos\">\n                                    Vehículos\n                                </option>\n                                <option value=\"Vestimenta\">\n                                    Vestimenta\n                                </option>\n                            </select>\n                        </label>\n                    </div>\n                    <div className=\"form-field\">\n                        <button type=\"submit\" title={btnMsg}>{btnMsg}</button>\n                    </div>\n                </form>\n                </div>\n        );\n        }\n    }\n}\n\nexport default CrearProducto;","export default __webpack_public_path__ + \"static/media/ml.270e3502.png\";","export default __webpack_public_path__ + \"static/media/lupa.81ec5dc4.png\";","import React from 'react';\nimport './Header.css';\nimport logo from '../ml.png';\nimport search from '../lupa.png';\nimport {Nav,Navbar,NavDropdown,Container, Button,Form,FormControl} from 'react-bootstrap';\n\n\nclass CrearProducto extends React.Component{\n\n  constructor(props){\n    super(props);\n    this.state = {searchTxt: \"\"}\n    this.handleSearchChanged = this.handleSearchChanged.bind(this);\n  }\n\n  handleSearchChanged(event){\n    this.setState({searchTxt: event.target.value});\n  }\n\n  openCategory = (event) =>{\n    console.log(event.target.name);\n    this.props.onCategory(event.target.name);\n  }\n\n  searchProduct = () => {\n    console.log(this.state.searchTxt);\n    this.props.onSearchProduct(this.state.searchTxt);\n  }\n\n    goToCreation = () =>{\n      this.props.onProductCreationEvent();\n    }\n\n    goHome = () => {\n      this.props.onHome();\n    }\n\n    handleLogin = () => {\n      this.props.onLogin();\n    }\n\n    goToRegister = () =>{\n      this.props.onRegister();\n    }\n\n    goToUserProducts = () =>{\n      this.props.onUserProducts();\n    }\n\n    signOut = () =>{\n      localStorage.removeItem(\"user\");\n      this.goHome();\n    }\n\n    render(){\n      let userId = localStorage.getItem(\"user\");\n      let username = localStorage.getItem(\"username\");\n      let seller = localStorage.getItem(\"seller\") === \"true\";\n      let crearProducto;\n      let misProductos;\n      let registerOrSignOut = <Nav>\n        <Nav.Link onClick={this.handleLogin}> Iniciar sesión </Nav.Link>\n        <Nav.Link onClick={this.goToRegister}>Registrarme</Nav.Link>\n      </Nav>;\n      if(userId !== null){\n        registerOrSignOut = <Nav><Nav.Link onClick={this.signOut}>{username} ,Salir</Nav.Link></Nav>;\n        if(seller){\n        crearProducto = <Nav.Link onClick={this.goToCreation}>Publicar</Nav.Link>;\n        misProductos = <Nav.Link onClick={this.goToUserProducts}>Mis productos</Nav.Link>\n\n        }\n      }\n        return(\n          <Navbar variant=\"dark\" bg=\"dark\" expand=\"lg\">\n  <Container fluid>\n      <Navbar.Brand href=\"/\">\n        <img\n          alt=\"mtLogo\"\n          src={logo}\n          width=\"30\"\n          height=\"30\"\n          className=\"d-inline-block align-top\"\n        />{' '}\n      MercadoTrucho\n      </Navbar.Brand>\n    <Navbar.Toggle aria-controls=\"navbar-dark-example\" />\n    <Navbar.Collapse id=\"navbar-dark-example\">\n      <Nav>\n        <Nav.Link>Más vendidos</Nav.Link>\n        {crearProducto}\n        {misProductos}\n        <NavDropdown\n          id=\"nav-dropdown-dark-example\"\n          title=\"Categorías\"\n          menuVariant=\"dark\"\n        >\n          <NavDropdown.Item name=\"Agro\" onClick={this.openCategory}>Agro</NavDropdown.Item>\n          <NavDropdown.Item name=\"Alimentos\" onClick={this.openCategory}>Alimentos</NavDropdown.Item>\n          <NavDropdown.Item name=\"Arte\" onClick={this.openCategory}>Arte</NavDropdown.Item>\n          <NavDropdown.Item name=\"Colleciones\" onClick={this.openCategory}>Colecciones</NavDropdown.Item>\n          <NavDropdown.Item name=\"Deportes\" onClick={this.openCategory}>Deportes</NavDropdown.Item>\n          <NavDropdown.Item name=\"Inmuebles\" onClick={this.openCategory}>Inmuebles</NavDropdown.Item>\n          <NavDropdown.Item name=\"Mascotas\" onClick={this.openCategory}>Mascotas</NavDropdown.Item>\n          <NavDropdown.Item name=\"Tecnologia\" onClick={this.openCategory}>Técnologia</NavDropdown.Item>\n          <NavDropdown.Item name=\"Vehiculos\" onClick={this.openCategory}>Vehículos</NavDropdown.Item>\n          <NavDropdown.Item name=\"Vestimenta\" onClick={this.openCategory}>Vestimenta</NavDropdown.Item>\n\n        </NavDropdown>\n      </Nav>\n      <Form className=\"d-flex\">\n        <FormControl\n          type=\"search\"\n          placeholder=\"Buscar\"\n          className=\"me-2\"\n          aria-label=\"Search\"\n          onChange={this.handleSearchChanged}\n        />\n        <Button variant=\"outline-success\" onClick={this.searchProduct}>Buscar</Button>\n      </Form>\n      {registerOrSignOut}\n    </Navbar.Collapse>\n  </Container>\n</Navbar>\n      )\n    }\n}\nexport default CrearProducto;","import React from 'react';\nimport './RegistrarUsuario.css';\nimport { getAuth, signInWithPopup, GoogleAuthProvider } from \"@firebase/auth\";\nimport Button from 'react-bootstrap/Button';\n\n\nclass RegistrarUsuario extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            error: null,\n            isLoaded: true,\n            screen: 'auth',\n            token: null,\n            user: {\n                nombre:\"\",\n                apellido:\"\",\n                username:\"\",\n                seller:false,\n                email:\"\",\n                razonSocial:\"\",\n                emailCorporativo:\"\",\n                uid: \"\"\n\n            }\n        }\n        this.handleFieldChange = this.handleFieldChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleGoogleSignIn = this.handleGoogleSignIn.bind(this);\n    }\n    \n\n    handleGoogleSignIn(event){\n        const provider = new GoogleAuthProvider();\n        const auth = getAuth();\n        signInWithPopup(auth, provider)\n        .then((result) => {\n            // This gives you a Google Access Token. You can use it to access the Google API.\n            const credential = GoogleAuthProvider.credentialFromResult(result);\n            // The signed-in user info.\n            const user = result.user;\n            user.getIdToken(true).then((idToken) => {\n                this.setState({...this.state, token : idToken,screen: \"form\", user: {...this.state.user,uid: user.uid, nombre: user.displayName.split(' ')[0],email: user.email}})\n\n            })\n            // ...\n        }).catch((error) => {\n            // Handle Errors here.\n            const errorCode = error.code;\n            const errorMessage = error.message;\n            // The email of the user's account used.\n            const email = error.email;\n            // The AuthCredential type that was used.\n            const credential = GoogleAuthProvider.credentialFromError(error);\n            // ...\n        });\n    }\n\n    handleFieldChange(event) {\n        const target = event.target;\n        let value = target.type === 'checkbox' ? target.checked : target.value;\n        const name = target.name;\n\n    \n        this.setState({\n            ...this.state,\n            user:{\n                ...this.state.user,[name]: value\n            }\n          \n        });\n      }\n\n      handleSubmit(event) {\n        event.preventDefault();\n        this.setState({ ...this.state,isLoaded: false })\n        const requestOptions = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' ,'Access-Control-Allow-Origin':'http://localhost:3000',\n                        'Authorization': 'Bearer ' + this.state.token\n        },\n            body: JSON.stringify(this.state.user)\n        };\n        fetch('https://arq1-meli-grupo-e.herokuapp.com/users', requestOptions)\n            .then(data => {\n                console.log(data.status);\n                this.setState({ user: {\n                    nombre:\"\",\n                    apellido:\"\",\n                    username:\"\",\n                    seller:false,\n                    email:\"\",\n                    razonSocial:\"\",\n                    emailCorporativo:\"\"\n    \n                },error: null,isLoaded: true });\n                if(data.status === 200){\n                    this.props.onUserCreated();\n                }\n                else if(data.status === 403){\n                    alert(\"Error en la autenticación\");\n                }\n                else if(data.status === 303){\n                    alert(\"Usuario ya registrado\");\n                }\n                else if(data.status === 400){\n                    alert(\"Error en el ingreso de campos\")\n                }\n                else{\n                    alert(\"Ocurrió un error en el registro. Por favor intente nuevamente: \" + data.statusText);\n                }\n\n\n            \n            })\n            .catch(err => {this.setState({ user: {\n                nombre:\"\",\n                apellido:\"\",\n                username:\"\",\n                password:\"\",\n                seller:false,\n                email:\"\",\n                razonSocial:\"\",\n                emailCorporativo:\"\"\n\n            },error: err,isLoaded: true });alert(\"Ocurrió un error en el registro. Por favor intente nuevamente \");});\n      }\n\n    render(){\n        const { error, isLoaded,user } = this.state;\n        const auth = getAuth().currentUser;\n        console.log(auth);\n        let camposVendedor = <br/>\n        if(auth){\n            <div>\n                {auth.displayName}\n            </div>\n        }\n        if(user.seller){\n            camposVendedor = <div>\n                <div className=\"form-field\">\n                        <label>\n                            Razón Social:\n                            <input type=\"text\" name=\"razonSocial\" value={user.razonSocial} onChange={this.handleFieldChange}></input>\n                        </label>\n                    </div>\n                    <div className=\"form-field\">\n                        <label>\n                            Mail Corporativo:\n                            <input name=\"emailCorporativo\" type=\"email\" value={user.emailCorporativo} onChange={this.handleFieldChange}></input>\n                        </label>\n                    </div>\n            </div>\n        }\n        if (error) {\n        return <div>Error: {error.message}</div>;\n        } else if (!isLoaded) {\n        return <div>Cargando...</div>;\n        } else if(this.state.screen === \"auth\"){\n            return(<Button onClick={this.handleGoogleSignIn}>Registrarme con Google</Button>)\n        }else{\n        return (\n            <div className=\"product-form\">\n                <form onSubmit={this.handleSubmit}>\n                    <div className=\"form-field\">\n                        <label>\n                            Nombre:\n                            <input type=\"text\" name=\"nombre\" value={user.nombre} onChange={this.handleFieldChange}></input>\n                        </label>\n                    </div>\n                    <div className=\"form-field\">\n                        <label>\n                            Apellido:\n                            <input type=\"text\" name=\"apellido\" value={user.apellido} onChange={this.handleFieldChange}></input>\n                        </label>\n                    </div>\n                    <div className=\"form-field\">\n                        <label>\n                            Nombre de usuario:\n                            <input type=\"text\" name=\"username\" value={user.username} onChange={this.handleFieldChange}></input>\n                        </label>\n                    </div>\n                    <div className=\"form-field\">\n                        <label>\n                            Mail:\n                            <input name=\"email\" type=\"email\" value={user.email} onChange={this.handleFieldChange}></input>\n                        </label>\n                    </div>\n                    <div className=\"form-field\">\n                        <label>\n                            Es vendedor?:\n                            <input type=\"checkbox\" name=\"seller\" checked={user.seller} onChange={this.handleFieldChange}></input>\n                        </label>\n                    </div>\n                    {camposVendedor}\n                    <div className=\"form-field\">\n                        <button type=\"submit\" >Terminar registro</button>\n                    </div>\n                </form>\n                </div>\n        );\n        }\n    }\n}\nexport default RegistrarUsuario;","import React from 'react';\nimport './Login.css';\nimport Button from 'react-bootstrap/Button';\n\nimport { getAuth, signInWithPopup, GoogleAuthProvider } from \"@firebase/auth\";\n\n\nclass Login extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: null,\n            isLoaded: true,\n            user: {\n                username: \"\",\n                password: \"\"\n            }\n        }\n        this.handleGoogleSignIn = this.handleGoogleSignIn.bind(this)\n    }\n\n      handleGoogleSignIn(event){\n        this.setState({ ...this.state,isLoaded: false })\n        const provider = new GoogleAuthProvider();\n        const auth = getAuth();\n        signInWithPopup(auth, provider)\n        .then((result) => {\n            // This gives you a Google Access Token. You can use it to access the Google API.\n            const credential = GoogleAuthProvider.credentialFromResult(result);\n            // The signed-in user info.\n            const user = result.user;\n            user.getIdToken(/* forceRefresh */ true).then((idToken) => {\n                const requestOptions = {\n                    method: 'GET',\n                    headers: { \n                                \"Authorization\": \"Bearer \" + idToken,\n                                \"Accept\": 'application/json'\n                            }\n                };\n                console.log(idToken);\n                fetch('https://arq1-meli-grupo-e.herokuapp.com/users/login', requestOptions)\n                .then((res) => {\n                    console.log(res.status);\n                    if(res.status === 403)\n                    {\n                        alert(\"Autenticación inválida\");\n                        return null;\n                    }\n                    else if(res.status === 404){\n                        alert(\"Usuario no registrado. Por favor, proceda a realizar el registro de su cuenta\");\n                        return null;\n                    }\n                    return res.json()\n                }).then(data => {\n                    console.log(data)\n                    if(data){\n                    this.setState({ error: null,isLoaded: true });\n                    localStorage.setItem(\"user\",data._id);\n                    localStorage.setItem(\"username\",data.username);\n                    localStorage.setItem(\"seller\",data.seller.toString());\n                    this.props.onUserLogin();\n                    }\n                    else{\n                        this.setState({isLoaded: true })\n                        alert(\"Ocurrió un error en el ingreso. Por favor intente nuevamente\");\n                    }\n                })\n                .catch(err => {this.setState({error: err,isLoaded: true });console.log(JSON.stringify(err));alert(\"Ocurrió un error en el ingreso Por favor intente nuevamente \");});\n              }).catch(function(error) {\n                // Handle error\n              });\n\n        }).catch((error) => {\n            // Handle Errors here.\n            const errorCode = error.code;\n            const errorMessage = error.message;\n            // The email of the user's account used.\n            const email = error.email;\n            // The AuthCredential type that was used.\n            const credential = GoogleAuthProvider.credentialFromError(error);\n            alert(errorMessage);\n            // ...\n        });\n    }\n\n    render(){\n        const { error, isLoaded,user } = this.state;\n        if (error) {\n        return <div>Error: {error.message}</div>;\n        } else if (!isLoaded) {\n        return <div>Cargando...</div>;\n        } else {\n        return (\n            <div className=\"product-form\">\n                <Button onClick={this.handleGoogleSignIn} variant=\"success\">Ingresear con Google</Button>\n                </div>\n        );\n        }\n    }\n\n}\nexport default Login;","import React from 'react';\nimport './UserListado.css';\nimport { getAuth} from \"@firebase/auth\";\nimport {Card,Container,Row,Col} from 'react-bootstrap';\n\n\n\nclass UserListado extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            error: null,\n            isLoaded: false,\n            items: []\n        }\n        // this.handleDelete = this.handleDelete.bind(this);\n    }\n\n    handleDelete = (prodId) => {\n        this.setState({ ...this.state,isLoaded: false })\n        getAuth().currentUser.getIdToken(true).then((idToken) => {\n            const requestOptions = {\n                method: 'DELETE',\n                headers: {'Authorization' : \"Bearer \" + idToken}\n            };\n            fetch('https://arq1-meli-grupo-e.herokuapp.com/products/' + prodId, requestOptions)\n                .then(data => {\n                    console.log(data);\n                    this.setState({ ...this.state,error: null,isLoaded: true });\n                    this.componentDidMount();\n                \n                })\n                .catch(err => {this.setState({ ...this.state,error: err,isLoaded: true })});\n        });\n    }\n\n    handleEdit = (prod) => {\n        this.props.onProductEdit(prod);\n    }\n\n    componentDidMount(){\n        if(getAuth().currentUser == null){\n            alert(\"Su sesión expiró, vuelva a identificarse\")\n            return;\n        }\n        getAuth().currentUser.getIdToken(true).then((idToken) => {\n            const requestOptions = {\n                method: 'GET',\n                headers: {'Authorization' : \"Bearer \" + idToken}\n            };\n            fetch(\"https://arq1-meli-grupo-e.herokuapp.com/products/\" +localStorage.getItem(\"user\"),requestOptions).then(res => res.json())\n        .then(\n            (result) => {\n                console.log(result);\n                this.setState({\n                    isLoaded: true,\n                    items: result\n                });\n            },\n            (error) => {\n                this.setState({\n                    isLoaded: true,\n                    error\n                });\n            }\n        )\n        });\n        \n    }\n\n    render(){\n        const { error, isLoaded, items } = this.state;\n    if (error) {\n      return <div>Error: {error.message}</div>;\n    } else if (!isLoaded) {\n      return <div>Cargando...</div>;\n    } else {\n      return (\n        <Container fluid=\"lg\" style={{padding: '1%'}}>\n        <Row>\n        {items.map(item => (\n          <Col key={item._id}>\n          <Card  style={{ width: '18rem', height: '500px'}}>\n          <Card.Img variant=\"top\" src={item.photo} />\n          <Card.Body>\n            <Card.Title>{item.nombre}</Card.Title>\n            <Card.Text>\n            {item.descripcion}\n            </Card.Text>\n          </Card.Body>\n          <Card.Text>$ {item.valor}</Card.Text>\n          <Card.Link onClick={() => {this.handleDelete(item._id)}}>Eliminar</Card.Link>\n        <Card.Link onClick={() => {this.handleEdit(item)}}>Editar</Card.Link>\n        </Card>\n        </Col>\n         \n        ))}\n        </Row>\n      </Container>\n      );\n    }\n  }\n    \n}\nexport default UserListado;","import React from 'react';\nimport Listado from './listado/Listado';\nimport CrearProducto from './crearProducto/CrearProducto';\nimport Header from './header/Header';\nimport './App.css';\nimport RegistrarUsuario from './registerUser/RegistrarUsuario';\nimport Login from './login/Login';\nimport UserListado from './productosUsuario/UserListado';\nimport { getAuth } from '@firebase/auth';\n\n\nclass App extends React.Component {\n\n  constructor(props){\n    super(props);\n    this.state = {\n        screen: 'list'\n    }\n\n}\n\n  componentDidUpdate(){\n    console.log(getAuth().currentUser)\n    if(getAuth().currentUser == null){\n      localStorage.clear();\n    }\n  }\n\n  handleSearchCategory = (category) => {\n    this.setState({screen: 'list',category:category})\n  }\n\n  handleSearchProduct = (text) => {\n    this.setState({screen: 'list',searchText: text})\n  }\n\n  handleProductCreation = () => {\n    alert('Producto Creado');\n  }\n\n  handleLogin = () =>{\n    this.setState({screen: 'list'})\n  }\n\n  handleUserLogin = () =>{\n    this.setState({screen: 'login'})\n  }\n\n  handleCreationScreen = () => {\n    this.setState({screen: 'createProduct'});\n  }\n\n  handleProductEdit = (prod) => {\n    this.setState({screen: 'editProduct',product: prod});\n  }\n\n  handleHomeScreen = () => {\n    this.setState({screen: 'login'});\n  }\n\n  handleRegisterScreen = () => {\n    this.setState({screen: 'createUser'});\n  }\n\n  handleUserProductsScreen = () => {\n    this.setState({screen: 'userProducts'});\n  }\n\n  render(){\n    let mainContent;\n    switch(this.state.screen){\n      case 'createProduct':\n        mainContent = <CrearProducto onProductCreated={this.handleProductCreation}/>;\n        break;\n      case 'createUser':\n        mainContent = <RegistrarUsuario onUserCreated={this.handleHomeScreen}/>;\n        break\n      case 'list':\n        mainContent = <Listado search={this.state.searchText} category={this.state.category}/>;\n        break\n      case 'userProducts':\n        mainContent = <UserListado onProductEdit={this.handleProductEdit}/>;\n        break;\n      case 'editProduct':\n        mainContent = <CrearProducto onProductCreated={this.handleProductCreation} product={this.state.product}/>\n        break;\n      default:\n        mainContent = <Login onUserLogin={this.handleLogin}/>;\n        break;\n\n    }\n    return (\n    <div className=\"App\" data-testid=\"App\">\n      <Header onProductCreationEvent={this.handleCreationScreen} onLogin={this.handleUserLogin} onHome={this.handleHomeScreen} onRegister={this.handleRegisterScreen} onUserProducts={this.handleUserProductsScreen}\n      onCategory={this.handleSearchCategory} onSearchProduct={this.handleSearchProduct}/>\n      {mainContent}\n\n    </div>\n  );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}