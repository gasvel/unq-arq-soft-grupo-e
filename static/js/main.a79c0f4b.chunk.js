(this.webpackJsonpmercado_trucho=this.webpackJsonpmercado_trucho||[]).push([[0],{82:function(e,t,a){},84:function(e,t,a){},86:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(32),c=a.n(o),s=(a(82),a(7)),i=a(8),l=a(13),d=a(14),h=a(102),u=a(103),j=a(69),b=a(108),p=a(2),m=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={error:null,isLoaded:!1,products:[]},n}return Object(i.a)(a,[{key:"getSnapshotBeforeUpdate",value:function(e){return{notifyRequired:e.search!==this.props.search||e.category!==this.props.category}}},{key:"componentDidUpdate",value:function(e,t,a){if(a.notifyRequired){var n=[];null!=this.props.category&&n.push("categoria="+this.props.category),null!=this.props.search&&n.push("nombre="+this.props.search),n.length>0&&(n=n.join("&"),this.getProducts(n))}}},{key:"componentDidMount",value:function(){var e=[];null!=this.props.category&&e.push("categoria="+this.props.category),null!=this.props.search&&e.push("nombre="+this.props.search),e.length>0&&(e=e.join("&"),this.getProducts(e)),this.getProducts()}},{key:"getProducts",value:function(e){var t=this,a="";e&&(a="?"+e),console.log(a),fetch("https://arq1-meli-grupo-e.herokuapp.com/products"+a).then((function(e){return e.json()})).then((function(e){console.log(e),t.setState({isLoaded:!0,items:e})}),(function(e){t.setState({isLoaded:!0,error:e})}))}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.isLoaded,n=e.items;return t?Object(p.jsxs)("div",{children:["Error: ",t.message]}):a?Object(p.jsx)(h.a,{fluid:"lg",style:{padding:"1%"},children:Object(p.jsx)(u.a,{children:n.map((function(e){return Object(p.jsx)(j.a,{children:Object(p.jsxs)(b.a,{style:{width:"18rem",height:"500px"},children:[Object(p.jsx)(b.a.Img,{variant:"top",src:e.photo}),Object(p.jsxs)(b.a.Body,{children:[Object(p.jsx)(b.a.Title,{children:e.nombre}),Object(p.jsx)(b.a.Text,{children:e.descripcion})]}),Object(p.jsxs)(b.a.Text,{children:["$ ",e.valor]})]})},e._id)}))})}):Object(p.jsx)("div",{children:"Cargando..."})}}]),a}(r.a.Component),g=a(3),O=a(5),f=a(17),v=(a(84),a(16)),x=a(47),C=a(70),S=a(76),k=Object(C.a)({apiKey:"AIzaSyBVwJk4DI_k64X4sTyoFcG6uxvI_qnJk-Q",authDomain:"unq-arq-soft-1-grupo-e.firebaseapp.com",projectId:"unq-arq-soft-1-grupo-e",storageBucket:"unq-arq-soft-1-grupo-e.appspot.com",messagingSenderId:"1064909149315",appId:"1:1064909149315:web:42677b0348548404f2f7b6",measurementId:"G-MLY1S1NYFG"}),y=(Object(S.a)(k),Object(x.b)(k)),I=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={previewImg:null,error:null,isLoaded:!0,product:{nombre:"",descripcion:"",valor:0,stock:1,categoria:"Agro"}},n.fileInput=r.a.createRef(),n.handleFileSelection=n.handleFileSelection.bind(Object(f.a)(n)),n.props.product&&(n.state=Object(O.a)(Object(O.a)({},n.state),{},{product:n.props.product})),n.handleFieldChange=n.handleFieldChange.bind(Object(f.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(f.a)(n)),n}return Object(i.a)(a,[{key:"handleFileSelection",value:function(e){var t=URL.createObjectURL(e.target.files[0]);this.setState({previewImg:t})}},{key:"submitPhoto",value:function(){var e=this,t=localStorage.getItem("user")+(new Date).getTime()+".jpg",a=Object(x.c)(y,t);return Object(x.d)(a,this.fileInput.current.files[0]).then((function(t){Object(x.a)(t.ref).then((function(t){console.log(t),e.setState(Object(O.a)(Object(O.a)({},e.state),{},{product:Object(O.a)(Object(O.a)({},e.state.product),{},{photo:t})})),e.createUser()}))}))}},{key:"handleFieldChange",value:function(e){var t=e.target,a=t.name,n="valor"===a||"stock"===a?parseInt(t.value):t.value;this.setState(Object(O.a)(Object(O.a)({},this.state),{},{product:Object(O.a)(Object(O.a)({},this.state.product),{},Object(g.a)({},a,n))}))}},{key:"createUser",value:function(){var e=this,t=localStorage.getItem("user");if(this.state.product.photo){var a=Object(O.a)(Object(O.a)({},this.state.product),{},{owner:t});Object(v.b)().currentUser.getIdToken(!0).then((function(t){var n=e.state.product._id?{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t},body:JSON.stringify(a)}:{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t},body:JSON.stringify(a)},r="https://arq1-meli-grupo-e.herokuapp.com/products";e.state.product._id&&(r=r+"/"+e.state.product._id),fetch(r,n).then((function(t){console.log(t),e.setState({product:{nombre:"",descripcion:"",valor:0,stock:1,categoria:"Agro"},error:null,isLoaded:!0}),e.props.onProductCreated()})).catch((function(t){e.setState({product:{nombre:"",descripcion:"",valor:0,stock:1,categoria:"Agro"},error:t,isLoaded:!0})}))}))}else alert("Debe cargar una imagen del producto para poder publicarlo.")}},{key:"handleSubmit",value:function(e){e.preventDefault(),null!=Object(v.b)().currentUser?(this.setState(Object(O.a)(Object(O.a)({},this.state),{},{isLoaded:!1})),this.state.product.photo?this.createUser():this.submitPhoto()):alert("Su sesi\xf3n expir\xf3, vuelva a identificarse")}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.isLoaded,n=this.state.product.photo?Object(p.jsx)("img",{src:this.state.product.photo,className:"imgPreview",alt:"ProductImg"}):null!=this.state.previewImg?Object(p.jsx)("img",{src:this.state.previewImg,className:"imgPreview",alt:"ProductImg"}):Object(p.jsx)("span",{}),r=this.state.product._id?"Actualizar":"Crear producto";return t?Object(p.jsxs)("div",{children:["Error: ",t.message]}):a?Object(p.jsxs)("div",{className:"product-form",children:[Object(p.jsx)("div",{className:"imgSection",children:n}),Object(p.jsxs)("label",{children:["Selecciona una foto del producto:",Object(p.jsx)("input",{type:"file",accept:"image/jpeg",ref:this.fileInput,onChange:this.handleFileSelection})]}),Object(p.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(p.jsx)("div",{className:"form-field",children:Object(p.jsxs)("label",{children:["Nombre:",Object(p.jsx)("input",{type:"text",name:"nombre",required:"true",value:this.state.product.nombre,onChange:this.handleFieldChange})]})}),Object(p.jsx)("div",{className:"form-field",children:Object(p.jsxs)("label",{children:["Descripci\xf3n:",Object(p.jsx)("textarea",{name:"descripcion",value:this.state.product.descripcion,onChange:this.handleFieldChange})]})}),Object(p.jsx)("div",{className:"form-field",children:Object(p.jsxs)("label",{children:["Valor: $",Object(p.jsx)("input",{name:"valor",type:"number",required:"true",value:this.state.product.valor,min:"1",onChange:this.handleFieldChange})]})}),Object(p.jsx)("div",{className:"form-field",children:Object(p.jsxs)("label",{children:["Stock:",Object(p.jsx)("input",{name:"stock",type:"number",required:"true",value:this.state.product.stock,min:"1",onChange:this.handleFieldChange})]})}),Object(p.jsx)("div",{className:"form-field",children:Object(p.jsxs)("label",{children:["Categoria:",Object(p.jsxs)("select",{name:"categoria",value:this.state.product.categoria,onChange:this.handleFieldChange,children:[Object(p.jsx)("option",{value:"Agro",children:"Agro"}),Object(p.jsx)("option",{value:"Alimentos",children:"Alimentos"}),Object(p.jsx)("option",{value:"Arte",children:"Arte"}),Object(p.jsx)("option",{value:"Colleciones",children:"Colecciones"}),Object(p.jsx)("option",{value:"Deportes",children:"Deportes"}),Object(p.jsx)("option",{value:"Inmuebles",children:"Inmuebles"}),Object(p.jsx)("option",{value:"Mascotas",children:"Mascotas"}),Object(p.jsx)("option",{value:"Tecnologia",children:"T\xe9cnologia"}),Object(p.jsx)("option",{value:"Vehiculos",children:"Veh\xedculos"}),Object(p.jsx)("option",{value:"Vestimenta",children:"Vestimenta"})]})]})}),Object(p.jsx)("div",{className:"form-field",children:Object(p.jsx)("button",{type:"submit",title:r,children:r})})]})]}):Object(p.jsx)("div",{children:"Cargando..."})}}]),a}(r.a.Component),L=(a(86),a.p+"static/media/ml.270e3502.png"),P=(a.p,a(107)),T=a(105),N=a(104),U=a(106),F=a(74),A=a(46),E=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).openCategory=function(e){console.log(e.target.name),n.props.onCategory(e.target.name)},n.searchProduct=function(){console.log(n.state.searchTxt),n.props.onSearchProduct(n.state.searchTxt)},n.goToCreation=function(){n.props.onProductCreationEvent()},n.goHome=function(){n.props.onHome()},n.handleLogin=function(){n.props.onLogin()},n.goToRegister=function(){n.props.onRegister()},n.goToUserProducts=function(){n.props.onUserProducts()},n.signOut=function(){localStorage.removeItem("user"),n.goHome()},n.state={searchTxt:""},n.handleSearchChanged=n.handleSearchChanged.bind(Object(f.a)(n)),n}return Object(i.a)(a,[{key:"handleSearchChanged",value:function(e){this.setState({searchTxt:e.target.value})}},{key:"render",value:function(){var e,t,a=localStorage.getItem("user"),n=localStorage.getItem("username"),r="true"===localStorage.getItem("seller"),o=Object(p.jsxs)(P.a,{children:[Object(p.jsx)(P.a.Link,{onClick:this.handleLogin,children:" Iniciar sesi\xf3n "}),Object(p.jsx)(P.a.Link,{onClick:this.goToRegister,children:"Registrarme"})]});return null!==a&&(o=Object(p.jsx)(P.a,{children:Object(p.jsxs)(P.a.Link,{onClick:this.signOut,children:[n," ,Salir"]})}),r&&(e=Object(p.jsx)(P.a.Link,{onClick:this.goToCreation,children:"Publicar"}),t=Object(p.jsx)(P.a.Link,{onClick:this.goToUserProducts,children:"Mis productos"}))),Object(p.jsx)(T.a,{variant:"dark",bg:"dark",expand:"lg",children:Object(p.jsxs)(h.a,{fluid:!0,children:[Object(p.jsxs)(T.a.Brand,{href:"/",children:[Object(p.jsx)("img",{alt:"mtLogo",src:L,width:"30",height:"30",className:"d-inline-block align-top"})," ","MercadoTrucho"]}),Object(p.jsx)(T.a.Toggle,{"aria-controls":"navbar-dark-example"}),Object(p.jsxs)(T.a.Collapse,{id:"navbar-dark-example",children:[Object(p.jsxs)(P.a,{children:[Object(p.jsx)(P.a.Link,{children:"M\xe1s vendidos"}),e,t,Object(p.jsxs)(N.a,{id:"nav-dropdown-dark-example",title:"Categor\xedas",menuVariant:"dark",children:[Object(p.jsx)(N.a.Item,{name:"Agro",onClick:this.openCategory,children:"Agro"}),Object(p.jsx)(N.a.Item,{name:"Alimentos",onClick:this.openCategory,children:"Alimentos"}),Object(p.jsx)(N.a.Item,{name:"Arte",onClick:this.openCategory,children:"Arte"}),Object(p.jsx)(N.a.Item,{name:"Colleciones",onClick:this.openCategory,children:"Colecciones"}),Object(p.jsx)(N.a.Item,{name:"Deportes",onClick:this.openCategory,children:"Deportes"}),Object(p.jsx)(N.a.Item,{name:"Inmuebles",onClick:this.openCategory,children:"Inmuebles"}),Object(p.jsx)(N.a.Item,{name:"Mascotas",onClick:this.openCategory,children:"Mascotas"}),Object(p.jsx)(N.a.Item,{name:"Tecnologia",onClick:this.openCategory,children:"T\xe9cnologia"}),Object(p.jsx)(N.a.Item,{name:"Vehiculos",onClick:this.openCategory,children:"Veh\xedculos"}),Object(p.jsx)(N.a.Item,{name:"Vestimenta",onClick:this.openCategory,children:"Vestimenta"})]})]}),Object(p.jsxs)(U.a,{className:"d-flex",children:[Object(p.jsx)(F.a,{type:"search",placeholder:"Buscar",className:"me-2","aria-label":"Search",onChange:this.handleSearchChanged}),Object(p.jsx)(A.a,{variant:"outline-success",onClick:this.searchProduct,children:"Buscar"})]}),o]})]})})}}]),a}(r.a.Component),w=(a(91),a(92),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={error:null,isLoaded:!0,screen:"auth",token:null,user:{nombre:"",apellido:"",username:"",seller:!1,email:"",razonSocial:"",emailCorporativo:"",uid:""}},n.handleFieldChange=n.handleFieldChange.bind(Object(f.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(f.a)(n)),n.handleGoogleSignIn=n.handleGoogleSignIn.bind(Object(f.a)(n)),n}return Object(i.a)(a,[{key:"handleGoogleSignIn",value:function(e){var t=this,a=new v.a,n=Object(v.b)();Object(v.c)(n,a).then((function(e){v.a.credentialFromResult(e);var a=e.user;a.getIdToken(!0).then((function(e){t.setState(Object(O.a)(Object(O.a)({},t.state),{},{token:e,screen:"form",user:Object(O.a)(Object(O.a)({},t.state.user),{},{uid:a.uid,nombre:a.displayName.split(" ")[0],email:a.email})}))}))})).catch((function(e){e.code,e.message,e.email,v.a.credentialFromError(e)}))}},{key:"handleFieldChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name;this.setState(Object(O.a)(Object(O.a)({},this.state),{},{user:Object(O.a)(Object(O.a)({},this.state.user),{},Object(g.a)({},n,a))}))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.setState(Object(O.a)(Object(O.a)({},this.state),{},{isLoaded:!1}));var a={method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"http://localhost:3000",Authorization:"Bearer "+this.state.token},body:JSON.stringify(this.state.user)};fetch("https://arq1-meli-grupo-e.herokuapp.com/users",a).then((function(e){console.log(e.status),t.setState({user:{nombre:"",apellido:"",username:"",seller:!1,email:"",razonSocial:"",emailCorporativo:""},error:null,isLoaded:!0}),200===e.status?t.props.onUserCreated():403===e.status?alert("Error en la autenticaci\xf3n"):303===e.status?alert("Usuario ya registrado"):400===e.status?alert("Error en el ingreso de campos"):alert("Ocurri\xf3 un error en el registro. Por favor intente nuevamente: "+e.statusText)})).catch((function(e){t.setState({user:{nombre:"",apellido:"",username:"",password:"",seller:!1,email:"",razonSocial:"",emailCorporativo:""},error:e,isLoaded:!0}),alert("Ocurri\xf3 un error en el registro. Por favor intente nuevamente ")}))}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.isLoaded,n=e.user,r=Object(v.b)().currentUser;console.log(r);var o=Object(p.jsx)("br",{});return r&&r.displayName,n.seller&&(o=Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"form-field",children:Object(p.jsxs)("label",{children:["Raz\xf3n Social:",Object(p.jsx)("input",{type:"text",name:"razonSocial",value:n.razonSocial,onChange:this.handleFieldChange})]})}),Object(p.jsx)("div",{className:"form-field",children:Object(p.jsxs)("label",{children:["Mail Corporativo:",Object(p.jsx)("input",{name:"emailCorporativo",type:"email",value:n.emailCorporativo,onChange:this.handleFieldChange})]})})]})),t?Object(p.jsxs)("div",{children:["Error: ",t.message]}):a?"auth"===this.state.screen?Object(p.jsx)(A.a,{onClick:this.handleGoogleSignIn,children:"Registrarme con Google"}):Object(p.jsx)("div",{className:"product-form",children:Object(p.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(p.jsx)("div",{className:"form-field",children:Object(p.jsxs)("label",{children:["Nombre:",Object(p.jsx)("input",{type:"text",name:"nombre",value:n.nombre,onChange:this.handleFieldChange})]})}),Object(p.jsx)("div",{className:"form-field",children:Object(p.jsxs)("label",{children:["Apellido:",Object(p.jsx)("input",{type:"text",name:"apellido",value:n.apellido,onChange:this.handleFieldChange})]})}),Object(p.jsx)("div",{className:"form-field",children:Object(p.jsxs)("label",{children:["Nombre de usuario:",Object(p.jsx)("input",{type:"text",name:"username",value:n.username,onChange:this.handleFieldChange})]})}),Object(p.jsx)("div",{className:"form-field",children:Object(p.jsxs)("label",{children:["Mail:",Object(p.jsx)("input",{name:"email",type:"email",value:n.email,onChange:this.handleFieldChange})]})}),Object(p.jsx)("div",{className:"form-field",children:Object(p.jsxs)("label",{children:["Es vendedor?:",Object(p.jsx)("input",{type:"checkbox",name:"seller",checked:n.seller,onChange:this.handleFieldChange})]})}),o,Object(p.jsx)("div",{className:"form-field",children:Object(p.jsx)("button",{type:"submit",children:"Terminar registro"})})]})}):Object(p.jsx)("div",{children:"Cargando..."})}}]),a}(r.a.Component)),D=(a(93),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={error:null,isLoaded:!0,user:{username:"",password:""}},n.handleGoogleSignIn=n.handleGoogleSignIn.bind(Object(f.a)(n)),n}return Object(i.a)(a,[{key:"handleGoogleSignIn",value:function(e){var t=this;this.setState(Object(O.a)(Object(O.a)({},this.state),{},{isLoaded:!1}));var a=new v.a,n=Object(v.b)();Object(v.c)(n,a).then((function(e){v.a.credentialFromResult(e);e.user.getIdToken(!0).then((function(e){var a={method:"GET",headers:{Authorization:"Bearer "+e,Accept:"application/json"}};console.log(e),fetch("https://arq1-meli-grupo-e.herokuapp.com/users/login",a).then((function(e){return console.log(e.status),403===e.status?(alert("Autenticaci\xf3n inv\xe1lida"),null):404===e.status?(alert("Usuario no registrado. Por favor, proceda a realizar el registro de su cuenta"),null):e.json()})).then((function(e){console.log(e),e?(t.setState({error:null,isLoaded:!0}),localStorage.setItem("user",e._id),localStorage.setItem("username",e.username),localStorage.setItem("seller",e.seller.toString()),t.props.onUserLogin()):(t.setState({isLoaded:!0}),alert("Ocurri\xf3 un error en el ingreso. Por favor intente nuevamente"))})).catch((function(e){t.setState({error:e,isLoaded:!0}),console.log(JSON.stringify(e)),alert("Ocurri\xf3 un error en el ingreso Por favor intente nuevamente ")}))})).catch((function(e){}))})).catch((function(e){e.code;var t=e.message;e.email,v.a.credentialFromError(e);alert(t)}))}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.isLoaded;e.user;return t?Object(p.jsxs)("div",{children:["Error: ",t.message]}):a?Object(p.jsx)("div",{className:"product-form",children:Object(p.jsx)(A.a,{onClick:this.handleGoogleSignIn,variant:"success",children:"Ingresear con Google"})}):Object(p.jsx)("div",{children:"Cargando..."})}}]),a}(r.a.Component)),q=(a(94),function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleDelete=function(e){n.setState(Object(O.a)(Object(O.a)({},n.state),{},{isLoaded:!1})),Object(v.b)().currentUser.getIdToken(!0).then((function(t){fetch("https://arq1-meli-grupo-e.herokuapp.com/products/"+e,{method:"DELETE",headers:{Authorization:"Bearer "+t}}).then((function(e){console.log(e),n.setState(Object(O.a)(Object(O.a)({},n.state),{},{error:null,isLoaded:!0})),n.componentDidMount()})).catch((function(e){n.setState(Object(O.a)(Object(O.a)({},n.state),{},{error:e,isLoaded:!0}))}))}))},n.handleEdit=function(e){n.props.onProductEdit(e)},n.state={error:null,isLoaded:!1,items:[]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;null!=Object(v.b)().currentUser?Object(v.b)().currentUser.getIdToken(!0).then((function(t){var a={method:"GET",headers:{Authorization:"Bearer "+t}};fetch("https://arq1-meli-grupo-e.herokuapp.com/products/"+localStorage.getItem("user"),a).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({isLoaded:!0,items:t})}),(function(t){e.setState({isLoaded:!0,error:t})}))})):alert("Su sesi\xf3n expir\xf3, vuelva a identificarse")}},{key:"render",value:function(){var e=this,t=this.state,a=t.error,n=t.isLoaded,r=t.items;return a?Object(p.jsxs)("div",{children:["Error: ",a.message]}):n?Object(p.jsx)(h.a,{fluid:"lg",style:{padding:"1%"},children:Object(p.jsx)(u.a,{children:r.map((function(t){return Object(p.jsx)(j.a,{children:Object(p.jsxs)(b.a,{style:{width:"18rem",height:"500px"},children:[Object(p.jsx)(b.a.Img,{variant:"top",src:t.photo}),Object(p.jsxs)(b.a.Body,{children:[Object(p.jsx)(b.a.Title,{children:t.nombre}),Object(p.jsx)(b.a.Text,{children:t.descripcion})]}),Object(p.jsxs)(b.a.Text,{children:["$ ",t.valor]}),Object(p.jsx)(b.a.Link,{onClick:function(){e.handleDelete(t._id)},children:"Eliminar"}),Object(p.jsx)(b.a.Link,{onClick:function(){e.handleEdit(t)},children:"Editar"})]})},t._id)}))})}):Object(p.jsx)("div",{children:"Cargando..."})}}]),a}(r.a.Component)),B=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).handleSearchCategory=function(e){n.setState({screen:"list",category:e})},n.handleSearchProduct=function(e){n.setState({screen:"list",searchText:e})},n.handleProductCreation=function(){alert("Producto Creado")},n.handleLogin=function(){n.setState({screen:"list"})},n.handleUserLogin=function(){n.setState({screen:"login"})},n.handleCreationScreen=function(){n.setState({screen:"createProduct"})},n.handleProductEdit=function(e){n.setState({screen:"editProduct",product:e})},n.handleHomeScreen=function(){n.setState({screen:"login"})},n.handleRegisterScreen=function(){n.setState({screen:"createUser"})},n.handleUserProductsScreen=function(){n.setState({screen:"userProducts"})},n.state={screen:"list"},n}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(){console.log(Object(v.b)().currentUser),null==Object(v.b)().currentUser&&localStorage.clear()}},{key:"render",value:function(){var e;switch(this.state.screen){case"createProduct":e=Object(p.jsx)(I,{onProductCreated:this.handleProductCreation});break;case"createUser":e=Object(p.jsx)(w,{onUserCreated:this.handleHomeScreen});break;case"list":e=Object(p.jsx)(m,{search:this.state.searchText,category:this.state.category});break;case"userProducts":e=Object(p.jsx)(q,{onProductEdit:this.handleProductEdit});break;case"editProduct":e=Object(p.jsx)(I,{onProductCreated:this.handleProductCreation,product:this.state.product});break;default:e=Object(p.jsx)(D,{onUserLogin:this.handleLogin})}return Object(p.jsxs)("div",{className:"App","data-testid":"App",children:[Object(p.jsx)(E,{onProductCreationEvent:this.handleCreationScreen,onLogin:this.handleUserLogin,onHome:this.handleHomeScreen,onRegister:this.handleRegisterScreen,onUserProducts:this.handleUserProductsScreen,onCategory:this.handleSearchCategory,onSearchProduct:this.handleSearchProduct}),e]})}}]),a}(r.a.Component),R=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,109)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),o(e),c(e)}))};a(95);c.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(B,{})}),document.getElementById("root")),R()}},[[96,1,2]]]);
//# sourceMappingURL=main.a79c0f4b.chunk.js.map