{"version":3,"sources":["listado/Listado.js","firebase.js","crearProducto/CrearProducto.js","ml.png","lupa.png","header/Header.js","google-logo.png","registerUser/RegistrarUsuario.js","login/Login.js","productosUsuario/UserListado.js","infoProducto/InfoProducto.js","App.js","reportWebVitals.js","index.js"],"names":["Listado","props","handleBuy","prod","onProductBuy","state","error","isLoaded","products","gte","lte","filterProducts","bind","handleChangeGte","handleChangeLte","event","target","value","parseInt","this","setState","val","prevProps","notifyRequired","search","category","prevState","snapshot","params","push","length","join","getProducts","filter","console","log","fetch","then","res","json","result","items","userId","localStorage","getItem","message","Container","fluid","style","padding","Accordion","defaultActiveKey","Item","eventKey","Header","Body","InputGroup","className","Text","id","FormControl","placeholder","type","onChange","Button","variant","onClick","Row","map","item","Col","Card","width","height","Img","src","photo","Title","nombre","stock","valor","_id","disabled","React","Component","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","storage","getAnalytics","getStorage","CrearProducto","previewImg","product","descripcion","categoria","fileInput","createRef","handleFileSelection","handleFieldChange","handleSubmit","previewURL","URL","createObjectURL","files","pathUrl","Date","getTime","stRef","sRef","db","uploadBytes","current","getDownloadURL","ref","downloadURL","createUser","name","owner","getAuth","currentUser","getIdToken","idToken","requestOptions","method","headers","body","JSON","stringify","url","data","onProductCreated","catch","err","alert","preventDefault","submitPhoto","preview","alt","btnMsg","accept","onSubmit","required","min","title","openCategory","onCategory","searchProduct","searchTxt","onSearchProduct","goToCreation","onProductCreationEvent","goHome","onHome","handleLogin","onLogin","goToRegister","onRegister","goToUserProducts","onUserProducts","signOut","removeItem","handleSearchChanged","crearProducto","misProductos","username","seller","registerOrSignOut","Nav","Link","Navbar","bg","expand","Brand","href","logo","Toggle","Collapse","NavDropdown","menuVariant","Form","RegistrarUsuario","screen","token","user","apellido","email","razonSocial","emailCorporativo","uid","handleGoogleSignIn","provider","GoogleAuthProvider","auth","signInWithPopup","credentialFromResult","displayName","split","code","credentialFromError","checked","status","onUserCreated","statusText","password","camposVendedor","Login","setItem","toString","onUserLogin","errorMessage","UserListado","handleDelete","prodId","componentDidMount","handleEdit","onProductEdit","InfoProducto","purchaseProduct","sell","taxes","amount","buyer","formaPago","onSellCreated","handleChangeAmount","handlePaymentChanged","productId","max","Select","defaultValue","Footer","Spinner","animation","role","App","handleSearchCategory","handleSearchProduct","text","searchText","handleProductCreation","handleUserLogin","handleCreationScreen","handleProductEdit","handleProductBuy","handleSellCreated","handleHomeScreen","handleRegisterScreen","handleUserProductsScreen","mainContent","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2539e765.chunk.js","sourcesContent":["import React from 'react';\nimport {Card,Container,Row,Col,Accordion,InputGroup,FormControl,Button} from 'react-bootstrap';\n\nclass Listado extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            error: null,\n            isLoaded: false,\n            products: [],\n            gte:0,lte:0\n        }\n        this.filterProducts = this.filterProducts.bind(this);\n        this.handleChangeGte = this.handleChangeGte.bind(this);\n        this.handleChangeLte = this.handleChangeLte.bind(this);\n    }\n\n\n    handleChangeGte(event) {\n      const target = event.target;\n      let value =parseInt(target.value);\n  \n      this.setState({\n          ...this.state,gte:value\n      });\n    }\n\n    handleChangeLte(event) {\n      const target = event.target;\n      let val =parseInt(target.value);\n  \n      this.setState({\n          ...this.state,\n          lte:val\n        \n      });\n    }\n\n    getSnapshotBeforeUpdate(prevProps) {\n      return { notifyRequired: prevProps.search !== this.props.search || prevProps.category !== this.props.category };\n    }\n    \n    componentDidUpdate(prevProps, prevState, snapshot) {\n      if (snapshot.notifyRequired) {\n      let params = []\n      if(this.props.category != null){\n        params.push(\"categoria=\"+this.props.category)\n      }\n      if(this.props.search != null){\n        params.push(\"nombre=\"+this.props.search)\n      }\n      if(this.state.lte != null && this.state.lte != 0){\n        params.push(\"lte=\"+this.state.lte)\n      }\n      if(this.state.gte != null && this.state.gte != 0){\n        params.push(\"gte=\"+this.state.gte)\n      }\n      if(params.length > 0){\n        params = params.join('&');\n        this.getProducts(params)\n      }\n      }\n    }\n\n\n    componentDidMount(){\n      let params = []\n      if(this.props.category != null){\n        params.push(\"categoria=\"+this.props.category)\n      }\n      if(this.state.lte != null && this.state.lte != 0){\n        params.push(\"lte=\"+this.state.lte)\n      }\n      if(this.state.gte != null && this.state.gte != 0){\n        params.push(\"gte=\"+this.state.gte)\n      }\n      if(this.props.search != null){\n        params.push(\"nombre=\"+this.props.search)\n      }\n      if(params.length > 0){\n        params = params.join('&');\n        this.getProducts(params)\n      }\n      this.getProducts();\n    }\n\n    filterProducts(){\n      let params = []\n\n      if(this.state.lte != null && this.state.lte != 0){\n        params.push(\"lte=\"+this.state.lte)\n      }\n      if(this.state.gte != null && this.state.gte != 0){\n        params.push(\"gte=\"+this.state.gte)\n      }\n      if(params.length > 0){\n        this.setState({...this.state,\n          isLoaded: false});\n        params = params.join('&');\n        this.getProducts(params)\n      }\n    }\n\n    handleBuy = (prod) => {\n      this.props.onProductBuy(prod);\n  }\n\n    getProducts(params){\n      let filter = \"\";\n      if(params){\n        filter = \"?\"+params;\n      }\n      console.log(filter);\n      fetch(\"https://arq1-meli-grupo-e.herokuapp.com/products\" + filter).then(res => res.json())\n        .then(\n            (result) => {\n                console.log(result);\n                this.setState({\n                    isLoaded: true,\n                    items: result\n                });\n            },\n            (error) => {\n                this.setState({\n                    isLoaded: true,\n                    error\n                });\n            }\n        )\n    }\n\n    render(){\n        const { error, isLoaded, items } = this.state;\n        let userId = localStorage.getItem(\"user\");\n        let username = localStorage.getItem(\"username\");\n    if (error) {\n      return <div data-testid=\"Listado\">Error: {error.message}</div>;\n    } else if (!isLoaded) {\n      return <div data-testid=\"Listado\">Cargando...</div>;\n    } else {\n      return (\n        <Container fluid=\"lg\" style={{padding: '1%'}} data-testid=\"Listado\">\n          <Accordion defaultActiveKey=\"\">\n  <Accordion.Item eventKey=\"0\">\n    <Accordion.Header>Filtrar resultado</Accordion.Header>\n    <Accordion.Body>\n      <InputGroup className=\"mb-3\">\n        <InputGroup.Text id=\"basic-addon1\">Valor mayor a: </InputGroup.Text>\n        <FormControl\n          placeholder=\"0\"\n          aria-label=\"0\"\n          aria-describedby=\"basic-addon1\"\n          type=\"number\"\n          value={this.state.gte}\n          onChange={this.handleChangeGte}\n        />\n      </InputGroup>\n      <InputGroup className=\"mb-3\">\n        <InputGroup.Text id=\"basic-addon2\">Valor menor a: </InputGroup.Text>\n        <FormControl\n          placeholder=\"0\"\n          aria-label=\"0\"\n          aria-describedby=\"basic-addon2\"\n          type=\"number\"\n          value={this.state.lte}\n          onChange={this.handleChangeLte}\n        />\n      </InputGroup>\n      <Button variant=\"success\" onClick={this.filterProducts}>Filtrar</Button>\n    </Accordion.Body>\n  </Accordion.Item>\n</Accordion>\n          <Row>\n          {items.map(item => (\n            <Col key={item._id}>\n            <Card  style={{ width: '18rem', height: '500px'}}>\n            <Card.Img variant=\"top\" src={item.photo} />\n            <Card.Body>\n              <Card.Title>{item.nombre}</Card.Title>\n            </Card.Body>\n            <Card.Text>Cantidad disponible: {item.stock}</Card.Text>\n            <Card.Text>$ {item.valor}</Card.Text>\n            <Button variant=\"primary\" onClick={() => {this.handleBuy(item._id)}} disabled={userId==null}>Comprar</Button>\n          </Card>\n          </Col>\n           \n          ))}\n          </Row>\n        </Container>\n      );\n    }\n  }\n    \n}\nexport default Listado;","// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"firebase/app\";\nimport { getAnalytics } from \"firebase/analytics\";\nimport { getStorage } from \"firebase/storage\";\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n// Your web app's Firebase configuration\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nconst firebaseConfig = {\n    apiKey: \"AIzaSyBVwJk4DI_k64X4sTyoFcG6uxvI_qnJk-Q\",\n    authDomain: \"unq-arq-soft-1-grupo-e.firebaseapp.com\",\n    projectId: \"unq-arq-soft-1-grupo-e\",\n    storageBucket: \"unq-arq-soft-1-grupo-e.appspot.com\",\n    messagingSenderId: \"1064909149315\",\n    appId: \"1:1064909149315:web:42677b0348548404f2f7b6\",\n    measurementId: \"G-MLY1S1NYFG\"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nconst analytics = getAnalytics(app);\nconst storage = getStorage(app);\n\nexport default storage;","import React from 'react';\nimport './CrearProducto.css';\nimport { getAuth } from \"@firebase/auth\";\nimport {uploadBytes,getDownloadURL ,ref as sRef } from \"firebase/storage\";\nimport db from '../firebase';\n\n\n\nclass CrearProducto extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            previewImg: null,\n            error: null,\n            isLoaded: true,\n            product: {\n                nombre: \"\",\n                descripcion: \"\",\n                valor: 0,\n                stock: 1,\n                categoria: \"Agro\"\n            }\n        }\n        this.fileInput = React.createRef();\n      this.handleFileSelection = this.handleFileSelection.bind(this)\n        if(this.props.product){\n            this.state ={...this.state, product: this.props.product};\n        }\n        this.handleFieldChange = this.handleFieldChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleFileSelection(event){\n        let previewURL = URL.createObjectURL(event.target.files[0]);\n        this.setState({previewImg: previewURL});\n      }\n\n    submitPhoto() {\n        let userId = localStorage.getItem(\"user\");\n        let pathUrl = userId + new Date().getTime() +\".jpg\";\n        const stRef = sRef(db,pathUrl);\n      return uploadBytes(stRef, this.fileInput.current.files[0]).then((snapshot) => {\n          getDownloadURL(snapshot.ref).then((downloadURL) => {\n              console.log(downloadURL);\n              this.setState({...this.state,product: {...this.state.product,photo: downloadURL}})\n              this.createUser();\n          });\n        });\n    }\n\n    handleFieldChange(event) {\n        const target = event.target;\n        const name = target.name;\n        let val = name === \"valor\" || name === \"stock\" ? parseInt(target.value) : target.value;\n    \n        this.setState({\n            ...this.state,\n            product:{\n                ...this.state.product,[name]: val\n            }\n          \n        });\n      }\n\n      createUser() {\n        let userId = localStorage.getItem(\"user\");\n        if(!this.state.product.photo){\n            alert(\"Debe cargar una imagen del producto para poder publicarlo.\");\n            return;\n        }\n\n        let product = {...this.state.product,owner: userId};\n        \n        getAuth().currentUser.getIdToken(true).then((idToken) => {\n            const requestOptions = this.state.product._id ? {\n                method: 'PUT',\n                headers: { 'Content-Type': 'application/json',\n                            'Authorization': 'Bearer ' + idToken },\n                body: JSON.stringify(product)\n            } : {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json',\n                'Authorization': 'Bearer ' + idToken },\n                body: JSON.stringify(product)\n            };\n    \n            let url = 'https://arq1-meli-grupo-e.herokuapp.com/products';\n            if(this.state.product._id){\n                url = url + '/' + this.state.product._id\n            }\n            fetch(url, requestOptions)\n                .then(data => {\n                    console.log(data);\n                    this.setState({ product:{\n                        nombre: \"\",\n                        descripcion: \"\",\n                        valor: 0,\n                        stock: 1,\n                        categoria: \"Agro\"\n                        \n                    },error: null,isLoaded: true });\n                    this.props.onProductCreated();\n                \n                })\n                .catch(err => {this.setState({ product:{\n                    nombre: \"\",\n                    descripcion: \"\",\n                    valor: 0,\n                    stock: 1,\n                    categoria: \"Agro\"\n                },error: err,isLoaded: true })});\n        })\n        \n      }\n\n      handleSubmit(event) {\n        event.preventDefault();\n        if(getAuth().currentUser == null){\n            alert(\"Su sesión expiró, vuelva a identificarse\")\n            return;\n        }\n        this.setState({ ...this.state,isLoaded: false })\n        if(!this.state.product.photo){\n        this.submitPhoto();\n        }\n        else{\n            this.createUser();\n        }\n      }\n\n    render(){\n        const { error, isLoaded } = this.state;\n        let preview=this.state.product.photo ? <img src={this.state.product.photo} className=\"imgPreview\" alt=\"ProductImg\"/> : this.state.previewImg != null ? <img src={this.state.previewImg} className=\"imgPreview\" alt=\"ProductImg\"/> : <span/>; ;\n        let btnMsg = this.state.product._id ? \"Actualizar\" : \"Crear producto\";\n        if (error) {\n        return <div>Error: {error.message}</div>;\n        } else if (!isLoaded) {\n        return <div>Cargando...</div>;\n        } else {\n        return (\n            <div className=\"product-form\">\n                <div className=\"imgSection\">\n                {preview}\n                </div>\n                <label>\n                    Selecciona una foto del producto:  \n                    <input type=\"file\" accept=\"image/jpeg\" ref={this.fileInput} onChange={this.handleFileSelection}/>\n                </label>\n                <form onSubmit={this.handleSubmit}>\n                    <div className=\"form-field\">\n                        <label>\n                            Nombre:\n                            <input type=\"text\" name=\"nombre\" required=\"true\" value={this.state.product.nombre} onChange={this.handleFieldChange}></input>\n                        </label>\n                    </div>\n                    <div className=\"form-field\">\n                        <label>\n                            Descripción:\n                            <textarea name=\"descripcion\" value={this.state.product.descripcion} onChange={this.handleFieldChange}/>\n                        </label>\n                    </div>\n                    <div className=\"form-field\">\n                        <label>\n                            Valor:\n                            $<input name=\"valor\" type=\"number\" required=\"true\" value={this.state.product.valor} min=\"1\" onChange={this.handleFieldChange}></input>\n                        </label>\n                    </div>\n                    <div className=\"form-field\">\n                        <label>\n                            Stock:\n                            <input name=\"stock\" type=\"number\" required=\"true\" value={this.state.product.stock} min=\"1\" onChange={this.handleFieldChange}></input>\n                        </label>\n                    </div>\n                    <div className=\"form-field\">\n                        <label>\n                            Categoria:\n                            <select name=\"categoria\" value={this.state.product.categoria} onChange={this.handleFieldChange}>\n                                <option value=\"Agro\">\n                                    Agro\n                                </option>\n                                <option value=\"Alimentos\">\n                                    Alimentos\n                                </option>\n                                <option value=\"Arte\">\n                                    Arte\n                                </option>\n                                <option value=\"Colleciones\">\n                                    Colecciones\n                                </option>\n                                <option value=\"Deportes\">\n                                    Deportes\n                                </option>\n                                <option value=\"Inmuebles\">\n                                    Inmuebles\n                                </option>\n                                <option value=\"Mascotas\">\n                                    Mascotas\n                                </option>\n                                <option value=\"Tecnologia\">\n                                    Técnologia\n                                </option>\n                                <option value=\"Vehiculos\">\n                                    Vehículos\n                                </option>\n                                <option value=\"Vestimenta\">\n                                    Vestimenta\n                                </option>\n                            </select>\n                        </label>\n                    </div>\n                    <div className=\"form-field\">\n                        <button type=\"submit\" title={btnMsg}>{btnMsg}</button>\n                    </div>\n                </form>\n                </div>\n        );\n        }\n    }\n}\n\nexport default CrearProducto;","export default __webpack_public_path__ + \"static/media/ml.270e3502.png\";","export default __webpack_public_path__ + \"static/media/lupa.81ec5dc4.png\";","import React from 'react';\nimport './Header.css';\nimport logo from '../ml.png';\nimport search from '../lupa.png';\nimport {Nav,Navbar,NavDropdown,Container, Button,Form,FormControl} from 'react-bootstrap';\n\n\nclass CrearProducto extends React.Component{\n\n  constructor(props){\n    super(props);\n    this.state = {searchTxt: \"\"}\n    this.handleSearchChanged = this.handleSearchChanged.bind(this);\n  }\n\n\n  handleSearchChanged(event){\n    this.setState({searchTxt: event.target.value});\n  }\n\n  openCategory = (event) =>{\n    console.log(event.target.name);\n    this.props.onCategory(event.target.name);\n  }\n\n  searchProduct = () => {\n    console.log(this.state.searchTxt);\n    this.props.onSearchProduct(this.state.searchTxt);\n  }\n\n    goToCreation = () =>{\n      this.props.onProductCreationEvent();\n    }\n\n    goHome = () => {\n      this.props.onHome();\n    }\n\n    handleLogin = () => {\n      this.props.onLogin();\n    }\n\n    goToRegister = () =>{\n      this.props.onRegister();\n    }\n\n    goToUserProducts = () =>{\n      this.props.onUserProducts();\n    }\n\n    signOut = () =>{\n      localStorage.removeItem(\"user\");\n      this.goHome();\n    }\n\n    render(){\n      let userId = localStorage.getItem(\"user\");\n      let username = localStorage.getItem(\"username\");\n      let seller = localStorage.getItem(\"seller\") === \"true\";\n      let crearProducto;\n      let misProductos;\n      let registerOrSignOut = <Nav>\n        <Nav.Link onClick={this.handleLogin}> Iniciar sesión </Nav.Link>\n        <Nav.Link onClick={this.goToRegister}>Registrarme</Nav.Link>\n      </Nav>;\n      if(userId !== null){\n        registerOrSignOut = <Nav><Nav.Link onClick={this.signOut}>{username} ,Salir</Nav.Link></Nav>;\n        if(seller){\n        crearProducto = <Nav.Link onClick={this.goToCreation}>Publicar</Nav.Link>;\n        misProductos = <Nav.Link onClick={this.goToUserProducts}>Mis productos</Nav.Link>\n\n        }\n      }\n        return(\n          <Navbar variant=\"dark\" bg=\"dark\" expand=\"lg\">\n  <Container fluid>\n      <Navbar.Brand href=\"/\">\n        <img\n          alt=\"mtLogo\"\n          src={logo}\n          width=\"30\"\n          height=\"30\"\n          className=\"d-inline-block align-top\"\n        />{' '}\n      MercadoTrucho\n      </Navbar.Brand>\n    <Navbar.Toggle aria-controls=\"navbar-dark-example\" />\n    <Navbar.Collapse id=\"navbar-dark-example\">\n      <Nav>\n        <Nav.Link>Más vendidos</Nav.Link>\n        {crearProducto}\n        {misProductos}\n        <NavDropdown\n          id=\"nav-dropdown-dark-example\"\n          title=\"Categorías\"\n          menuVariant=\"dark\"\n        >\n          <NavDropdown.Item name=\"Agro\" onClick={this.openCategory}>Agro</NavDropdown.Item>\n          <NavDropdown.Item name=\"Alimentos\" onClick={this.openCategory}>Alimentos</NavDropdown.Item>\n          <NavDropdown.Item name=\"Arte\" onClick={this.openCategory}>Arte</NavDropdown.Item>\n          <NavDropdown.Item name=\"Colleciones\" onClick={this.openCategory}>Colecciones</NavDropdown.Item>\n          <NavDropdown.Item name=\"Deportes\" onClick={this.openCategory}>Deportes</NavDropdown.Item>\n          <NavDropdown.Item name=\"Inmuebles\" onClick={this.openCategory}>Inmuebles</NavDropdown.Item>\n          <NavDropdown.Item name=\"Mascotas\" onClick={this.openCategory}>Mascotas</NavDropdown.Item>\n          <NavDropdown.Item name=\"Tecnologia\" onClick={this.openCategory}>Técnologia</NavDropdown.Item>\n          <NavDropdown.Item name=\"Vehiculos\" onClick={this.openCategory}>Vehículos</NavDropdown.Item>\n          <NavDropdown.Item name=\"Vestimenta\" onClick={this.openCategory}>Vestimenta</NavDropdown.Item>\n\n        </NavDropdown>\n      </Nav>\n      <Form className=\"d-flex\">\n        <FormControl\n          type=\"search\"\n          placeholder=\"Buscar\"\n          className=\"me-2\"\n          aria-label=\"Search\"\n          onChange={this.handleSearchChanged}\n        />\n        <Button variant=\"outline-success\" onClick={this.searchProduct}>Buscar</Button>\n      </Form>\n      {registerOrSignOut}\n    </Navbar.Collapse>\n  </Container>\n</Navbar>\n      )\n    }\n}\nexport default CrearProducto;","export default __webpack_public_path__ + \"static/media/google-logo.0590aaf0.png\";","import React from 'react';\nimport './RegistrarUsuario.css';\nimport { getAuth, signInWithPopup, GoogleAuthProvider } from \"@firebase/auth\";\nimport Button from 'react-bootstrap/Button';\nimport logo from '../google-logo.png';\nimport { Container } from 'react-bootstrap';\n\n\nclass RegistrarUsuario extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            error: null,\n            isLoaded: true,\n            screen: 'auth',\n            token: null,\n            user: {\n                nombre:\"\",\n                apellido:\"\",\n                username:\"\",\n                seller:false,\n                email:\"\",\n                razonSocial:\"\",\n                emailCorporativo:\"\",\n                uid: \"\"\n\n            }\n        }\n        this.handleFieldChange = this.handleFieldChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleGoogleSignIn = this.handleGoogleSignIn.bind(this);\n    }\n    \n\n    handleGoogleSignIn(event){\n        const provider = new GoogleAuthProvider();\n        const auth = getAuth();\n        signInWithPopup(auth, provider)\n        .then((result) => {\n            // This gives you a Google Access Token. You can use it to access the Google API.\n            const credential = GoogleAuthProvider.credentialFromResult(result);\n            // The signed-in user info.\n            const user = result.user;\n            user.getIdToken(true).then((idToken) => {\n                this.setState({...this.state, token : idToken,screen: \"form\", user: {...this.state.user,uid: user.uid, nombre: user.displayName.split(' ')[0],email: user.email}})\n\n            })\n            // ...\n        }).catch((error) => {\n            // Handle Errors here.\n            const errorCode = error.code;\n            const errorMessage = error.message;\n            // The email of the user's account used.\n            const email = error.email;\n            // The AuthCredential type that was used.\n            const credential = GoogleAuthProvider.credentialFromError(error);\n            // ...\n        });\n    }\n\n    handleFieldChange(event) {\n        const target = event.target;\n        let value = target.type === 'checkbox' ? target.checked : target.value;\n        const name = target.name;\n\n    \n        this.setState({\n            ...this.state,\n            user:{\n                ...this.state.user,[name]: value\n            }\n          \n        });\n      }\n\n      handleSubmit(event) {\n        event.preventDefault();\n        this.setState({ ...this.state,isLoaded: false })\n        const requestOptions = {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' ,'Access-Control-Allow-Origin':'http://localhost:3000',\n                        'Authorization': 'Bearer ' + this.state.token\n        },\n            body: JSON.stringify(this.state.user)\n        };\n        fetch('https://arq1-meli-grupo-e.herokuapp.com/users', requestOptions)\n            .then(data => {\n                console.log(data.status);\n                this.setState({ user: {\n                    nombre:\"\",\n                    apellido:\"\",\n                    username:\"\",\n                    seller:false,\n                    email:\"\",\n                    razonSocial:\"\",\n                    emailCorporativo:\"\"\n    \n                },error: null,isLoaded: true });\n                if(data.status === 200){\n                    this.props.onUserCreated();\n                }\n                else if(data.status === 403){\n                    alert(\"Error en la autenticación\");\n                }\n                else if(data.status === 303){\n                    alert(\"Usuario ya registrado\");\n                }\n                else if(data.status === 400){\n                    alert(\"Error en el ingreso de campos\")\n                }\n                else{\n                    alert(\"Ocurrió un error en el registro. Por favor intente nuevamente: \" + data.statusText);\n                }\n\n\n            \n            })\n            .catch(err => {this.setState({ user: {\n                nombre:\"\",\n                apellido:\"\",\n                username:\"\",\n                password:\"\",\n                seller:false,\n                email:\"\",\n                razonSocial:\"\",\n                emailCorporativo:\"\"\n\n            },error: err,isLoaded: true });alert(\"Ocurrió un error en el registro. Por favor intente nuevamente \");});\n      }\n\n    render(){\n        const { error, isLoaded,user } = this.state;\n        const auth = getAuth().currentUser;\n        console.log(auth);\n        let camposVendedor = <br/>\n        if(auth){\n            <div>\n                {auth.displayName}\n            </div>\n        }\n        if(user.seller){\n            camposVendedor = <div>\n                <div className=\"form-field\">\n                        <label>\n                            Razón Social:\n                            <input type=\"text\" name=\"razonSocial\" value={user.razonSocial} onChange={this.handleFieldChange}></input>\n                        </label>\n                    </div>\n                    <div className=\"form-field\">\n                        <label>\n                            Mail Corporativo:\n                            <input name=\"emailCorporativo\" type=\"email\" value={user.emailCorporativo} onChange={this.handleFieldChange}></input>\n                        </label>\n                    </div>\n            </div>\n        }\n        if (error) {\n        return <div>Error: {error.message}</div>;\n        } else if (!isLoaded) {\n        return <div>Cargando...</div>;\n        } else if(this.state.screen === \"auth\"){\n            return(<Container className=\"registerContainer\">\n                <img src={logo} width=\"150px\"></img> <br/> <br/>\n                <Button onClick={this.handleGoogleSignIn}>Registrarme con Google</Button>\n                </Container>\n            \n            )\n        }else{\n        return (\n            <div className=\"product-form\">\n                <form onSubmit={this.handleSubmit}>\n                    <div className=\"form-field\">\n                        <label>\n                            Nombre:\n                            <input type=\"text\" name=\"nombre\" value={user.nombre} onChange={this.handleFieldChange}></input>\n                        </label>\n                    </div>\n                    <div className=\"form-field\">\n                        <label>\n                            Apellido:\n                            <input type=\"text\" name=\"apellido\" value={user.apellido} onChange={this.handleFieldChange}></input>\n                        </label>\n                    </div>\n                    <div className=\"form-field\">\n                        <label>\n                            Nombre de usuario:\n                            <input type=\"text\" name=\"username\" value={user.username} onChange={this.handleFieldChange}></input>\n                        </label>\n                    </div>\n                    <div className=\"form-field\">\n                        <label>\n                            Mail:\n                            <input name=\"email\" type=\"email\" value={user.email} onChange={this.handleFieldChange}></input>\n                        </label>\n                    </div>\n                    <div className=\"form-field\">\n                        <label>\n                            Es vendedor?:\n                            <input type=\"checkbox\" name=\"seller\" checked={user.seller} onChange={this.handleFieldChange}></input>\n                        </label>\n                    </div>\n                    {camposVendedor}\n                    <div className=\"form-field\">\n                        <button type=\"submit\" >Terminar registro</button>\n                    </div>\n                </form>\n                </div>\n        );\n        }\n    }\n}\nexport default RegistrarUsuario;","import React from 'react';\nimport './Login.css';\nimport Button from 'react-bootstrap/Button';\nimport logo from '../google-logo.png';\n\n\nimport { getAuth, signInWithPopup, GoogleAuthProvider } from \"@firebase/auth\";\n\n\nclass Login extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: null,\n            isLoaded: true,\n            user: {\n                username: \"\",\n                password: \"\"\n            }\n        }\n        this.handleGoogleSignIn = this.handleGoogleSignIn.bind(this)\n    }\n\n      handleGoogleSignIn(event){\n        this.setState({ ...this.state,isLoaded: false })\n        const provider = new GoogleAuthProvider();\n        const auth = getAuth();\n        signInWithPopup(auth, provider)\n        .then((result) => {\n            // This gives you a Google Access Token. You can use it to access the Google API.\n            const credential = GoogleAuthProvider.credentialFromResult(result);\n            // The signed-in user info.\n            const user = result.user;\n            user.getIdToken(/* forceRefresh */ true).then((idToken) => {\n                const requestOptions = {\n                    method: 'GET',\n                    headers: { \n                                \"Authorization\": \"Bearer \" + idToken,\n                                \"Accept\": 'application/json'\n                            }\n                };\n                console.log(idToken);\n                fetch('https://arq1-meli-grupo-e.herokuapp.com/users/login', requestOptions)\n                .then((res) => {\n                    console.log(res.status);\n                    if(res.status === 403)\n                    {\n                        alert(\"Autenticación inválida\");\n                        return null;\n                    }\n                    else if(res.status === 404){\n                        alert(\"Usuario no registrado. Por favor, proceda a realizar el registro de su cuenta\");\n                        return null;\n                    }\n                    return res.json()\n                }).then(data => {\n                    console.log(data)\n                    if(data){\n                    this.setState({ error: null,isLoaded: true });\n                    localStorage.setItem(\"user\",data._id);\n                    localStorage.setItem(\"username\",data.username);\n                    localStorage.setItem(\"seller\",data.seller.toString());\n                    this.props.onUserLogin();\n                    }\n                    else{\n                        this.setState({isLoaded: true })\n                        alert(\"Ocurrió un error en el ingreso. Por favor intente nuevamente\");\n                    }\n                })\n                .catch(err => {this.setState({error: err,isLoaded: true });console.log(JSON.stringify(err));alert(\"Ocurrió un error en el ingreso Por favor intente nuevamente \");});\n              }).catch(function(error) {\n                // Handle error\n              });\n\n        }).catch((error) => {\n            // Handle Errors here.\n            const errorCode = error.code;\n            const errorMessage = error.message;\n            // The email of the user's account used.\n            const email = error.email;\n            // The AuthCredential type that was used.\n            const credential = GoogleAuthProvider.credentialFromError(error);\n            alert(errorMessage);\n            // ...\n        });\n    }\n\n    render(){\n        const { error, isLoaded,user } = this.state;\n        if (error) {\n        return <div>Error: {error.message}</div>;\n        } else if (!isLoaded) {\n        return <div>Cargando...</div>;\n        } else {\n        return (\n            <div className=\"loginSection\">\n                <img src={logo} width=\"100px\"/>\n                <br/>\n                <br/>\n                <Button onClick={this.handleGoogleSignIn} variant=\"success\">Iniciar sesión con Google</Button>\n                </div>\n        );\n        }\n    }\n\n}\nexport default Login;","import React from 'react';\nimport './UserListado.css';\nimport { getAuth} from \"@firebase/auth\";\nimport {Card,Container,Row,Col} from 'react-bootstrap';\n\n\n\nclass UserListado extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            error: null,\n            isLoaded: false,\n            items: []\n        }\n        // this.handleDelete = this.handleDelete.bind(this);\n    }\n\n    handleDelete = (prodId) => {\n        this.setState({ ...this.state,isLoaded: false })\n        getAuth().currentUser.getIdToken(true).then((idToken) => {\n            const requestOptions = {\n                method: 'DELETE',\n                headers: {'Authorization' : \"Bearer \" + idToken}\n            };\n            fetch('https://arq1-meli-grupo-e.herokuapp.com/products/' + prodId, requestOptions)\n                .then(data => {\n                    console.log(data);\n                    this.setState({ ...this.state,error: null,isLoaded: true });\n                    this.componentDidMount();\n                \n                })\n                .catch(err => {this.setState({ ...this.state,error: err,isLoaded: true })});\n        });\n    }\n\n    handleEdit = (prod) => {\n        this.props.onProductEdit(prod);\n    }\n\n    componentDidMount(){\n        if(getAuth().currentUser == null){\n            alert(\"Su sesión expiró, vuelva a identificarse\")\n            return;\n        }\n        getAuth().currentUser.getIdToken(true).then((idToken) => {\n            const requestOptions = {\n                method: 'GET',\n                headers: {'Authorization' : \"Bearer \" + idToken}\n            };\n            fetch(\"https://arq1-meli-grupo-e.herokuapp.com/products/\" +localStorage.getItem(\"user\"),requestOptions).then(res => res.json())\n        .then(\n            (result) => {\n                console.log(result);\n                this.setState({\n                    isLoaded: true,\n                    items: result\n                });\n            },\n            (error) => {\n                this.setState({\n                    isLoaded: true,\n                    error\n                });\n            }\n        )\n        });\n        \n    }\n\n    render(){\n        const { error, isLoaded, items } = this.state;\n    if (error) {\n      return <div>Error: {error.message}</div>;\n    } else if (!isLoaded) {\n      return <div>Cargando...</div>;\n    } else {\n      return (\n        <Container fluid=\"lg\" style={{padding: '1%'}}>\n        <Row>\n        {items.map(item => (\n          <Col key={item._id}>\n          <Card  style={{ width: '18rem', height: '500px'}}>\n          <Card.Img variant=\"top\" src={item.photo} />\n          <Card.Body>\n            <Card.Title>{item.nombre}</Card.Title>\n            <Card.Text>\n            {item.descripcion}\n            </Card.Text>\n          </Card.Body>\n          <Card.Text>$ {item.valor}</Card.Text>\n          <Card.Link onClick={() => {this.handleDelete(item._id)}}>Eliminar</Card.Link>\n        <Card.Link onClick={() => {this.handleEdit(item)}}>Editar</Card.Link>\n        </Card>\n        </Col>\n         \n        ))}\n        </Row>\n      </Container>\n      );\n    }\n  }\n    \n}\nexport default UserListado;","import React from 'react';\nimport {Card,Container,Spinner,Button,FormControl,InputGroup,Form} from 'react-bootstrap';\nimport { getAuth } from \"@firebase/auth\";\nimport \"./InfoProducto.css\";\n\nclass InfoProducto extends React.Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            error: null,\n            isLoaded: false,\n            product: {},\n            amount:1,\n            formaPago:\"Cash\"\n        }\n        this.handleChangeAmount = this.handleChangeAmount.bind(this);\n        this.handlePaymentChanged = this.handlePaymentChanged.bind(this);\n    }\n\n    handleChangeAmount(event){\n        this.setState({...this.state,amount:event.target.value});\n    }\n\n    purchaseProduct= () =>{\n        let userId = localStorage.getItem(\"user\");\n\n        let sell = {product: this.state.product._id,taxes: (this.state.product.valor * this.state.amount),buyer: userId,formaPago:this.state.formaPago};\n        console.log(sell)\n        getAuth().currentUser.getIdToken(true).then((idToken) => {\n            const requestOptions = {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json',\n                'Authorization': 'Bearer ' + idToken },\n                body: JSON.stringify(sell)\n            };\n    \n            let url = 'https://arq1-meli-grupo-e.herokuapp.com/sales';\n            fetch(url, requestOptions)\n                .then(data => {\n                    console.log(data);\n                    if(data.status == 200){\n                        this.setState({ ...this.state,error: null,isLoaded: true });\n                        this.props.onSellCreated();\n                    }\n                    else{\n                        alert(data.statusText)\n                        this.setState({ ...this.state,error: data.statusText,isLoaded: true });\n                    }\n                    \n                \n                })\n                .catch(err => {console.log(err);this.setState({ ...this.state\n                ,error: err,isLoaded: true })});\n        })\n    }\n\n    handlePaymentChanged(event){\n        this.setState({...this.state,formaPago: event.target.value});\n        console.log(event.target.value);\n    }\n\n    componentDidMount(){\n        let productId = this.props.productId;\n        this.setState({\n            isLoaded: false\n        });\n        fetch(\"https://arq1-meli-grupo-e.herokuapp.com/product/\" + productId).then(res => res.json())\n        .then(\n            (result) => {\n                console.log(result);\n                this.setState({\n                    isLoaded: true,\n                    product: result\n                });\n            },\n            (error) => {\n                this.setState({\n                    isLoaded: true,\n                    error\n                });\n            }\n        )\n    }\n\n    render(){\n        if(this.state.isLoaded){\n            return(\n                <Container>\n        <Card className=\"text-center\">\n                <Card.Header>{this.state.product.nombre}</Card.Header>\n          <Card.Img variant=\"top\" className=\"productImg\" src={this.state.product.photo} />\n          <Card.Body>\n            <Card.Title>$ {this.state.product.valor}</Card.Title>\n            <Card.Text>\n            {this.state.product.descripcion}\n            </Card.Text>\n            <InputGroup className=\"mb-3\">\n                <InputGroup.Text id=\"basic-addon1\">Cantidad a comprar: </InputGroup.Text>\n                <FormControl\n                placeholder=\"0\"\n                aria-label=\"0\"\n                aria-describedby=\"basic-addon1\"\n                type=\"number\"\n                min=\"1\"\n                max={this.state.product.stock}\n                value={this.state.amount}\n                onChange={this.handleChangeAmount}\n                />\n                <Form.Select aria-label=\"Medio de pago\" onChange={this.handlePaymentChanged} defaultValue=\"Cash\">\n                <option>-No seleccionado-</option>\n                <option value=\"Cash\">Efectivo</option>\n                <option value=\"Card\">Tarjeta</option>\n                <option value=\"MercadoPago\">MercadoPago</option>\n                <option value=\"Transferencia\">Transferencia</option>\n                <option value=\"Otros\">Otros</option>\n                </Form.Select>\n            </InputGroup>\n            <Button variant=\"primary\" onClick={this.purchaseProduct}>Comprar</Button>\n          </Card.Body>\n          <Card.Footer className=\"text-muted\"> Quedan disponibles: {this.state.product.stock - this.state.amount}</Card.Footer>\n        </Card>\n                </Container>)\n        }\n        else{\n            return(<Spinner animation=\"border\" role=\"status\">\n            <span className=\"visually-hidden\">Cargando...</span>\n          </Spinner>)\n        }\n\n    }\n}\n\nexport default InfoProducto;","import React from 'react';\nimport Listado from './listado/Listado';\nimport CrearProducto from './crearProducto/CrearProducto';\nimport Header from './header/Header';\nimport './App.css';\nimport RegistrarUsuario from './registerUser/RegistrarUsuario';\nimport Login from './login/Login';\nimport UserListado from './productosUsuario/UserListado';\nimport { getAuth } from '@firebase/auth';\nimport InfoProducto from './infoProducto/InfoProducto';\n\n\nclass App extends React.Component {\n\n  constructor(props){\n    super(props);\n    this.state = {\n        screen: 'list'\n    }\n\n}\n\n  handleSearchCategory = (category) => {\n    this.setState({screen: 'list',category:category})\n  }\n\n  handleSearchProduct = (text) => {\n    this.setState({screen: 'list',searchText: text})\n  }\n\n  handleProductCreation = () => {\n    alert('Producto Creado');\n  }\n\n  handleLogin = () =>{\n    this.setState({screen: 'list'})\n  }\n\n  handleUserLogin = () =>{\n    this.setState({screen: 'login'})\n  }\n\n  handleCreationScreen = () => {\n    this.setState({screen: 'createProduct'});\n  }\n\n  handleProductEdit = (prod) => {\n    this.setState({screen: 'editProduct',product: prod});\n  }\n\n  handleProductBuy = (prod) => {\n    this.setState({screen: 'productInfo',product: prod});\n  }\n\n  handleSellCreated = () => {\n    alert(\"Compra realizada con éxito!\");\n    this.setState({screen: 'list'})\n  }\n\n  handleHomeScreen = () => {\n    this.setState({screen: 'login'});\n  }\n\n  handleRegisterScreen = () => {\n    this.setState({screen: 'createUser'});\n  }\n\n  handleUserProductsScreen = () => {\n    this.setState({screen: 'userProducts'});\n  }\n\n  render(){\n    let mainContent;\n    switch(this.state.screen){\n      case 'createProduct':\n        mainContent = <CrearProducto onProductCreated={this.handleProductCreation}/>;\n        break;\n      case 'createUser':\n        mainContent = <RegistrarUsuario onUserCreated={this.handleHomeScreen}/>;\n        break\n      case 'list':\n        mainContent = <Listado search={this.state.searchText} category={this.state.category} onProductBuy={this.handleProductBuy}/>;\n        break\n      case 'userProducts':\n        mainContent = <UserListado onProductEdit={this.handleProductEdit}/>;\n        break;\n      case 'editProduct':\n        mainContent = <CrearProducto onProductCreated={this.handleProductCreation} product={this.state.product}/>\n        break;\n      case 'productInfo':\n        mainContent = <InfoProducto productId={this.state.product} onSellCreated={this.handleSellCreated}/>\n        break;\n      default:\n        mainContent = <Login onUserLogin={this.handleLogin}/>;\n        break;\n\n    }\n    return (\n    <div className=\"App\" data-testid=\"App\">\n      <Header onProductCreationEvent={this.handleCreationScreen} onLogin={this.handleUserLogin} onHome={this.handleHomeScreen} onRegister={this.handleRegisterScreen} onUserProducts={this.handleUserProductsScreen}\n      onCategory={this.handleSearchCategory} onSearchProduct={this.handleSearchProduct}/>\n      {mainContent}\n\n    </div>\n  );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}